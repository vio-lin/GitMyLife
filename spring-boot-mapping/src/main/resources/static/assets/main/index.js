window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({ArchiveSystem:[function(t,e,o){"use strict";cc._RF.push(e,"03e0cVKxC5F0aq1AeBE3fS7","ArchiveSystem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=t("../Common/Archive"),a=t("../Common/Constant"),c=t("../Libraries/EventEmitter"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initialize=function(){var t=this;this.userID=i.default.createUserID(),this._localData=i.default.createLocalData(this.userID),this.__saveLocalData(),this.localData=new Proxy(this._localData,{get:function(t,e){return t[e]},set:function(e,o,n){return e[o]=n,t.__saveLocalData(),!0}})},e.prototype.onCompleteLevel=function(t){t==this.localData.currentMaxLevel&&(this.localData.currentMaxLevel+=1)},e.prototype.getStarNum=function(t){var e=this.localData.starsAmount;return t in e?e[t]:0},e.prototype.setStarNum=function(t,e){var o=this.localData.starsAmount;e>this.getStarNum(t)&&(o[t]=e),this.localData.starsAmount=o},e.prototype.switchMusic=function(){this.localData.music=!this.localData.music},e.prototype.switchSound=function(){this.localData.sound=!this.localData.sound},e.prototype.__saveLocalData=function(){i.default.saveLocalData(this.userID,this._localData),c.default().emit(a.CUSTOM_EVENT_NAME.localDataUpdate)},e}(cc.Component);o.default=new l,cc._RF.pop()},{"../Common/Archive":"Archive","../Common/Constant":"Constant","../Libraries/EventEmitter":"EventEmitter"}],Archive:[function(t,e,o){"use strict";cc._RF.push(e,"92263jpZiJM2IvgvwLP0vMZ","Archive"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Constant"),r=t("./ProjectConfig"),i={skinGroup:n.SKIN_GROUP_DEFAULT,starsAmount:{},currentMaxLevel:1,recallNum:1,refreshNum:1,hintNum:1,music:!0,sound:!0,lastTimeBoxTime:0,starsCollect:0,lifeLeft:n.LIFE_MAX,lifeLastTimePoint:0,videoRewardTimesToday:0,dailyRewardGotTime:"",lastLoginData:""},a=function(){function t(){}return t.prototype.createUserID=function(){var t=cc.sys.localStorage.getItem(r.PROJECT_CONFIG.appID+"_userID");if(!t){t="";for(var e=0;e<16;e++)t+="0123456789abcdef"[Math.floor(Math.random()*"0123456789abcdef".length)];cc.sys.localStorage.setItem(r.PROJECT_CONFIG.appID+"_userID",t)}return t},t.prototype.createLocalData=function(t){var e=cc.sys.localStorage.getItem(r.PROJECT_CONFIG.appID+"_"+t+"_localData");return e?Object.assign(Object.assign({},i),JSON.parse(e)):i},t.prototype.saveLocalData=function(t,e){cc.sys.localStorage.setItem(r.PROJECT_CONFIG.appID+"_"+t+"_localData",JSON.stringify(e))},t}();o.default=new a,cc._RF.pop()},{"./Constant":"Constant","./ProjectConfig":"ProjectConfig"}],AreaMove:[function(t,e,o){"use strict";cc._RF.push(e,"1567fSzWm5CVajZXLbo/lP7","AreaMove");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../Common/Constant"),l=t("../Libraries/EventEmitter"),s=cc._decorator,u=s.ccclass,f=s.property;(function(t){t[t.top=0]="top",t[t.bottom=1]="bottom"})(a||(a={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveFrom=a.top,e.callBackType="",e._offset=600,e}return r(e,t),e.prototype.onLoad=function(){this.node.opacity=0},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){switch(t.moveFrom){case a.top:break;case a.bottom:t._offset=-t._offset}t.node.y+=t._offset,t.node.opacity=255,cc.tween(t.node).to(c.AREA_MOVE_DURATION,{y:t.node.y-t._offset}).call(function(){l.default().on(c.CUSTOM_EVENT_NAME.onSceneChanged,t.__onSceneChanged,t),t.scheduleOnce(function(){l.default().emit(c.CUSTOM_EVENT_NAME.onSceneChangedComplete,t.callBackType)},.05)}).start()})},e.prototype.onDestroy=function(){l.default().off(c.CUSTOM_EVENT_NAME.onSceneChanged,this.__onSceneChanged,this)},e.prototype.__onSceneChanged=function(){cc.tween(this.node).to(c.AREA_MOVE_DURATION,{y:this.node.y+this._offset}).start()},i([f({type:cc.Enum(a)})],e.prototype,"moveFrom",void 0),i([f],e.prototype,"callBackType",void 0),i([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Common/Constant":"Constant","../Libraries/EventEmitter":"EventEmitter"}],AudioConfig:[function(t,e,o){"use strict";cc._RF.push(e,"2529dRNEIBFz7vH6WZdtNPk","AudioConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.AUDIOS_ENUM=o.AUDIOS_PATH=void 0,o.AUDIOS_PATH={block_click:"block_click",button_click_01:"button_click_01",button_click_02:"button_click_02",bg_music:"bg_music",block_eliminate:"block_eliminate",level_complete:"level_complete",level_failed:"level_failed",get_reward:"get_reward",revive:"revive"},o.AUDIOS_ENUM=cc.Enum({block_click:0,button_click_01:1,button_click_02:2,bg_music:3,block_eliminate:4,level_complete:5,level_failed:6,get_reward:7,revive:8}),cc._RF.pop()},{}],AudioSystem:[function(t,e,o){"use strict";cc._RF.push(e,"6844blYuNBN8qXoQDMwYDkg","AudioSystem");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/AudioConfig"),c=t("./ArchiveSystem"),l=function(){function t(){this.audios={},this.audiosID={},this._musicID=null}return t.prototype.initialize=function(){return n(this,void 0,Promise,function(){var t,e,o,n,c,l,s,u,f;return r(this,function(p){switch(p.label){case 0:return[4,new Promise(function(t,e){cc.assetManager.loadBundle("bundle_audios",function(o,n){o?e(o):t(n)})})];case 1:t=p.sent(),e=function(e){var n,i;return r(this,function(r){switch(r.label){case 0:return n=o.audios,i=e,[4,new Promise(function(o,n){t.load(e,cc.AudioClip,function(t,e){t?n(t):o(e)})})];case 1:return n[i]=r.sent(),[2]}})},o=this,p.label=2;case 2:p.trys.push([2,7,8,9]),n=i(Object.values(a.AUDIOS_PATH)),c=n.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[5,e(l)]);case 4:p.sent(),p.label=5;case 5:return c=n.next(),[3,3];case 6:return[3,9];case 7:return s=p.sent(),u={error:s},[3,9];case 8:try{c&&!c.done&&(f=n.return)&&f.call(n)}finally{if(u)throw u.error}return[7];case 9:return this.playMusic(),[2]}})})},t.prototype.play=function(t,e,o){if(void 0===e&&(e=!1),void 0===o&&(o=1),c.default.localData.sound&&t in this.audios){var n=cc.audioEngine.play(this.audios[t],e,o);e&&(this.audiosID[t]=n)}},t.prototype.stop=function(t){t in this.audiosID&&(cc.audioEngine.stop(this.audiosID[t]),delete this.audiosID[t])},t.prototype.playMusic=function(){null===this._musicID&&c.default.localData.music&&this.audios.hasOwnProperty(a.AUDIOS_PATH.bg_music)&&(this._musicID=cc.audioEngine.playMusic(this.audios[a.AUDIOS_PATH.bg_music],!0))},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic(),this._musicID=null},t}();o.default=new l,cc._RF.pop()},{"../Common/AudioConfig":"AudioConfig","./ArchiveSystem":"ArchiveSystem"}],BoxRewardItemController:[function(t,e,o){"use strict";cc._RF.push(e,"b4d330iLsxMia0TXAPJ5GUt","BoxRewardItemController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../System/ArchiveSystem"),l=t("./PropButtonController"),s=cc._decorator,u=s.ccclass,f=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelAmount=null,e.nodesRewardTypes=[],e._collected=!1,e}return r(e,t),e.prototype.setReward=function(t,e){this._collected=!1,this._rewardType=t,this._rewardAmount=e,this.nodesRewardTypes.forEach(function(e,o){e.active=t===l.BUTTON_TYPE[o]}),this.labelAmount.string=e.toString()},e.prototype.onCollect=function(t){if(void 0===t&&(t=1),!this._collected){this._collected=!0;var e=this._rewardAmount*t;switch(this._rewardType){case a.PROP_BUTTON_TYPE.recall:c.default.localData.recallNum+=e;break;case a.PROP_BUTTON_TYPE.refresh:c.default.localData.refreshNum+=e;break;case a.PROP_BUTTON_TYPE.hint:c.default.localData.hintNum+=e}}},i([f(cc.Label)],e.prototype,"labelAmount",void 0),i([f([cc.Node])],e.prototype,"nodesRewardTypes",void 0),i([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Common/Constant":"Constant","../System/ArchiveSystem":"ArchiveSystem","./PropButtonController":"PropButtonController"}],ButtonAudio:[function(t,e,o){"use strict";cc._RF.push(e,"c17e0vqW2ZDXa5SlHM7rUUj","ButtonAudio");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/AudioConfig"),c=t("../System/AudioSystem"),l=cc._decorator,s=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickAudioType=a.AUDIOS_ENUM.button_click_01,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.node.getComponent(cc.Button)&&this.node.on(cc.Node.EventType.TOUCH_END,function(){c.default.play(a.AUDIOS_PATH[a.AUDIOS_ENUM[t.clickAudioType]])})},i([u({type:a.AUDIOS_ENUM})],e.prototype,"clickAudioType",void 0),i([s],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../Common/AudioConfig":"AudioConfig","../System/AudioSystem":"AudioSystem"}],ButtonScaleEffect:[function(t,e,o){"use strict";cc._RF.push(e,"dd222bvh8lI660/4bFGvttt","ButtonScaleEffect");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=cc.tween().to(.3,{scale:1.2*this.node.scale}).to(.3,{scale:this.node.scale}).to(.3,{scale:1.2*this.node.scale}).to(.3,{scale:this.node.scale}).delay(.5);cc.tween(this.node).then(t).repeatForever().start()},i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],CatcherController:[function(t,e,o){"use strict";cc._RF.push(e,"25309w5GEVG5JJ6jq/UONGN","CatcherController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../Common/AudioConfig"),s=t("../Common/Constant"),u=t("../Game/SingleCatcherController"),f=t("../System/AudioSystem"),p=t("./GamePlayController"),d=t("./ProgressController"),h=cc._decorator,y=h.ccclass,_=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.catchers=[],e._blockCatched=[],e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,this.node.parent.zIndex=s.CATCHER_ZINDEX},e.prototype.catchOneBlock=function(t){var e=this.catchers.find(function(t){return!t.getCurrentBlock()});if(!e)return!1;var o=this._blockCatched.filter(function(e){return!e.isEliminating&&e.blockSkin.spriteFrame==t.blockSkin.spriteFrame});if(o.length>0){for(var n=this.catchers,r=n.indexOf(o[o.length-1].stayCatcher),i=n.length-2;i>r;i--){var a=n[i].getCurrentBlock();a&&(n[i+1].catchBlock(a),n[i].discardBlock())}n[r+1].catchBlock(t)}else e.catchBlock(t);return this._blockCatched.push(t),!0},e.prototype.checkEliminate=function(t){return a(this,void 0,void 0,function(){var e,o,n=this;return c(this,function(r){switch(r.label){case 0:return(e=this._blockCatched.filter(function(e){return!e.isMoving&&e.blockSkin.spriteFrame==t})).length!==s.BLOCK_ELIMINATE_LIMIT?[3,2]:(f.default.play(l.AUDIOS_PATH.block_eliminate),o=[],e.forEach(function(t){o.push(t.eliminateSelf()),n._blockCatched.splice(n._blockCatched.indexOf(t),1)}),[4,Promise.all(o)]);case 1:return r.sent(),d.default.I.onEliminate(),p.default.I.checkResult(),this.resetPosAfterEliminate(),[3,3];case 2:p.default.I.checkResult("checkEliminate"),r.label=3;case 3:return[2]}})})},e.prototype.resetPosAfterEliminate=function(){for(var t=this.catchers,e=0,o=0;o<t.length;o++){var n=t[o].getCurrentBlock();if(n){if(0===e)continue;t[o-e].catchBlock(n),t[o].discardBlock()}else e+=1}},e.prototype.resetPosAfterRecall=function(){for(var t=this.catchers.find(function(t){return!t.getCurrentBlock()}),e=this.catchers.indexOf(t)+1;e<this.catchers.length;e++){var o=this.catchers[e].getCurrentBlock();if(!o)return;this.catchers[e-1].catchBlock(o),this.catchers[e].discardBlock()}},e.prototype.clean=function(){this.catchers.forEach(function(t){t.clean()})},e.prototype.isNotFull=function(){return this.catchers.some(function(t){var e=t.getCurrentBlock();return!e||e.isMoving||e.isEliminating})},e.prototype.getLastBlock=function(){return this._blockCatched.pop()},e.prototype.getBlankCatcherNum=function(){return this.catchers.filter(function(t){return!t.getCurrentBlock()}).length},i([_([u.default])],e.prototype,"catchers",void 0),o=i([y],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../Common/AudioConfig":"AudioConfig","../Common/Constant":"Constant","../Game/SingleCatcherController":"SingleCatcherController","../System/AudioSystem":"AudioSystem","./GamePlayController":"GamePlayController","./ProgressController":"ProgressController"}],Constant:[function(t,e,o){"use strict";cc._RF.push(e,"b951bSvkUpP276XkUYAFM33","Constant"),Object.defineProperty(o,"__esModule",{value:!0}),o.PROP_BUTTON_TYPE=o.CUSTOM_EVENT_NAME=o.PREFABS_NAME=o.SCENES_NAME=o.NODE_POOL_NAME=o.SKIN_LOADED_DEFAULT=o.PROP_TIP_CHANGE_AFTER=o.PROP_TIP_SHOW_AFTER=o.AREA_MOVE_DURATION=o.LIFT_RECOVER_DURATION=o.LIFE_REWARD_ONCE_VIDEO=o.LIFE_MAX=o.LEVEL_REWARD_SRARS_LIMIT=o.TIME_BOX_DURATION=o.BLOCK_ELIMINATE_LIMIT=o.BLOCK_COLLECT_SPEED=o.CATCHER_ZINDEX=o.BLOCK_COLLECT_ZINDEX=o.GUIDE_BLOCK_ZINDEX=o.GUIDE_LAYER_ZINDEX=o.TOUCHER_COLLIDER_TAG=o.BLOCK_TAG_ADDITION=o.SKIN_GROUP_DEFAULT=o.LEVLE_PATH_PRE=o.SKIN_PATH_PRE=void 0,o.SKIN_PATH_PRE="BlockSkin",o.LEVLE_PATH_PRE="Level",o.SKIN_GROUP_DEFAULT="1",o.BLOCK_TAG_ADDITION=1e3,o.TOUCHER_COLLIDER_TAG=7777,o.GUIDE_LAYER_ZINDEX=100,o.GUIDE_BLOCK_ZINDEX=110,o.BLOCK_COLLECT_ZINDEX=120,o.CATCHER_ZINDEX=110,o.BLOCK_COLLECT_SPEED=1200,o.BLOCK_ELIMINATE_LIMIT=3,o.TIME_BOX_DURATION=300,o.LEVEL_REWARD_SRARS_LIMIT=10,o.LIFE_MAX=5,o.LIFE_REWARD_ONCE_VIDEO=3,o.LIFT_RECOVER_DURATION=600,o.AREA_MOVE_DURATION=.2,o.PROP_TIP_SHOW_AFTER=5,o.PROP_TIP_CHANGE_AFTER=2,o.SKIN_LOADED_DEFAULT={blockSkin:{}},o.NODE_POOL_NAME={singleBlock:"singleBlock"},o.SCENES_NAME={MainScen:"Scenes/MainScene",GameScene:"Scenes/GameScene"},o.PREFABS_NAME={LackOfLife:"Prefabs/LackOfLife",DailyLayer:"Prefabs/DailyLayer",EndLayer:"Prefabs/EndLayer",PauseLayer:"Prefabs/PauseLayer",TimeBoxLayer:"Prefabs/TimeBoxLayer"},o.CUSTOM_EVENT_NAME={localDataUpdate:"localDataUpdate",onSceneChanged:"onSceneChanged",onGameStart:"onGameStart",onGameComplete:"onGameComplete",onSceneChangedComplete:"onSceneChangedComplete"},function(t){t[t.recall=0]="recall",t[t.refresh=1]="refresh",t[t.hint=2]="hint",t[t.life=3]="life"}(o.PROP_BUTTON_TYPE||(o.PROP_BUTTON_TYPE={})),cc._RF.pop()},{}],ContentList:[function(t,e,o){"use strict";cc._RF.push(e,"fc777uNtoFDHbxYFZyTsLv+","ContentList"),Object.defineProperty(o,"__esModule",{value:!0}),o.CONTENT_LIST=void 0,o.CONTENT_LIST={toast:{loadingSkinError:"\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u91cd\u542f\u6e38\u620f"},label:{}},cc._RF.pop()},{}],DailyBoxController:[function(t,e,o){"use strict";cc._RF.push(e,"ab4efufZMhM25Po16Z5T/Jf","DailyBoxController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Platform/PlatformSystem"),l=t("../System/ArchiveSystem"),s=t("../System/DataCollectSystem"),u=t("../System/LifeSystem"),f=t("./DailyLayerController"),p=cc._decorator,d=p.ccclass,h=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeGlow=null,e.nodeVideoButton=null,e.animationComp=null,e.labelAmount=null,e.rewardIcons=[],e._boxClicked=!1,e._needVideo=!1,e._isReady=!1,e._isOpen=!1,e._rewardType=null,e._rewardAmount=0,e}return r(e,t),e.prototype.onLoad=function(){this.nodeVideoButton.active=!1},e.prototype.update=function(t){this.nodeGlow.angle-=30*t,this.nodeGlow.angle<-360&&(this.node.angle%=360)},e.prototype.onBoxClick=function(){this._boxClicked||this._needVideo||!this._isReady||this._isOpen||(this._boxClicked=!0,this.openBox(),f.default.I.onOpenFirst())},e.prototype.onVideoButtonClick=function(){var t=this;c.default.platform.showRewardVideo(function(){t.openBox(),s.reportUserBehaviorBranchAnalytics(s.LOG_KEY_DAILY_REWARD.boxVideoSuccess)}),s.reportUserBehaviorBranchAnalytics(s.LOG_KEY_DAILY_REWARD.boxVideo)},e.prototype.setBoxReward=function(t,e){this._rewardType=t,this._rewardAmount=e,this.rewardIcons[t].active=!0,this.labelAmount.string=e.toString()},e.prototype.turnToVideo=function(){this._boxClicked||(this._needVideo=!0,this.nodeVideoButton.active=!0)},e.prototype.turnToReady=function(){this._isReady=!0},e.prototype.showBox=function(){this.animationComp.play("daily_box_show")},e.prototype.closeBox=function(){this.animationComp.play("daily_box_close")},e.prototype.openBox=function(){this._isOpen=!0,this.animationComp.play("daily_box_open"),this.nodeVideoButton.active=!1,l.default.localData.dailyRewardGotTime=(new Date).toLocaleDateString()},e.prototype.collect=function(t){if(void 0===t&&(t=!1),this._isOpen){var e=t?2:1;switch(this._rewardType){case a.PROP_BUTTON_TYPE.recall:l.default.localData.recallNum+=this._rewardAmount*e;break;case a.PROP_BUTTON_TYPE.refresh:l.default.localData.refreshNum+=this._rewardAmount*e;break;case a.PROP_BUTTON_TYPE.hint:l.default.localData.hintNum+=this._rewardAmount*e;break;case a.PROP_BUTTON_TYPE.life:u.default.rewardLife(this._rewardAmount*e)}}},i([h(cc.Node)],e.prototype,"nodeGlow",void 0),i([h(cc.Node)],e.prototype,"nodeVideoButton",void 0),i([h(cc.Animation)],e.prototype,"animationComp",void 0),i([h(cc.Label)],e.prototype,"labelAmount",void 0),i([h([cc.Node])],e.prototype,"rewardIcons",void 0),i([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Common/Constant":"Constant","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/DataCollectSystem":"DataCollectSystem","../System/LifeSystem":"LifeSystem","./DailyLayerController":"DailyLayerController"}],DailyLayerController:[function(t,e,o){"use strict";cc._RF.push(e,"31f72r19TBBn63wb7LF/l30","DailyLayerController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){r={error:c}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Common/Constant"),l=t("../Platform/PlatformSystem"),s=t("../System/ArchiveSystem"),u=t("../System/DataCollectSystem"),f=t("../System/GamingSystem"),p=t("./DailyBoxController"),d=t("./PropButtonController"),h=cc._decorator,y=h.ccclass,_=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeButtons=null,e.nodeCollect=null,e.nodeTip=null,e.boxes=[],e._boxesControllers=[],e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){var t=this;o.I=this,this.boxes.forEach(function(e,o){t._boxesControllers[o]=e.getComponent(p.default)}),this.nodeButtons.active=!1,this.nodeTip.active=!1},e.prototype.onDestroy=function(){o.I=null},e.prototype.onOpenFirst=function(){var t=this;this._boxesControllers.forEach(function(t){t.turnToVideo()}),this.nodeTip.active=!1,this.scheduleOnce(function(){t.nodeCollect.active=!1,t.nodeButtons.active=!0,t.scheduleOnce(function(){t.nodeCollect.active=!0},3)},1)},e.prototype.show=function(){var t=this;f.default.isPause=!0,this.node.active=!0,this.__setReward(),this._boxesControllers.forEach(function(t){t.showBox()}),cc.tween(this.node).delay(1.6).call(function(){t._boxesControllers.forEach(function(t){t.closeBox()})}).delay(.5).call(function(){t.__sortBox(5)}).start()},e.prototype.collect=function(){this._boxesControllers.forEach(function(t){t.collect()}),this.node.active=!1,l.default.platform.showToast({title:"\u6210\u529f\u83b7\u5f97\u5956\u52b1",duration:2e3}),u.reportUserBehaviorBranchAnalytics(u.LOG_KEY_DAILY_REWARD.collect),f.default.isPause=!1},e.prototype.collectDouble=function(){var t=this;l.default.platform.showRewardVideo(function(){t._boxesControllers.forEach(function(t){t.collect(!0)}),t.node.active=!1,l.default.platform.showToast({title:"\u6210\u529f\u83b7\u5f97\u5956\u52b1",duration:2e3}),u.reportUserBehaviorBranchAnalytics(u.LOG_KEY_DAILY_REWARD.collectDoubleSuccess),f.default.isPause=!1}),u.reportUserBehaviorBranchAnalytics(u.LOG_KEY_DAILY_REWARD.collectDouble)},e.prototype.__setReward=function(){var t=d.BUTTON_TYPE.concat();s.default.localData.lifeLeft<c.LIFE_MAX&&t.push(c.PROP_BUTTON_TYPE.life),t.sort(function(){return Math.random()>.5?1:-1}),this._boxesControllers.forEach(function(e,o){e.setBoxReward(t[o],1)})},e.prototype.__sortBox=function(t){var e=this;if(0!==t){var o=a(this.boxes.sort(function(){return Math.random()>.5?1:-1}),2),n=o[0],r=o[1];n.zIndex=1,r.zIndex=-1;var i=Math.abs(r.x-n.x)/1200,c=n.x,l=n.scale,s=cc.tween(n).parallel(cc.tween().to(i,{x:r.x}),cc.tween().to(i/2,{scale:1.3*n.scale}).to(i/2,{scale:l})).call(function(){n.zIndex=0,n.x=c,n.scale=l}),u=r.x,f=r.scale,p=cc.tween(r).parallel(cc.tween().to(i,{x:n.x}),cc.tween().to(i/2,{scale:1.3*r.scale}).to(i/2,{scale:f})).call(function(){r.zIndex=0,r.x=u,r.scale=f}).delay(.1).call(function(){e.__sortBox(t-1)});s.start(),p.start()}else this.boxes.forEach(function(t,o,n){var r=t.x,i=t.scale;cc.tween(t).to(.2,{x:0}).to(.1,{scaleX:.7*i,scaleY:1.5*i}).parallel(cc.tween().to(.2,{x:r}),cc.tween().to(.2,{scaleX:i,scaleY:i})).call(function(){o===n.length-1&&(e._boxesControllers.forEach(function(t){t.turnToReady()}),e.nodeTip.active=!0)}).start()})},i([_(cc.Node)],e.prototype,"nodeButtons",void 0),i([_(cc.Node)],e.prototype,"nodeCollect",void 0),i([_(cc.Node)],e.prototype,"nodeTip",void 0),i([_([cc.Node])],e.prototype,"boxes",void 0),o=i([y],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../Common/Constant":"Constant","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/DataCollectSystem":"DataCollectSystem","../System/GamingSystem":"GamingSystem","./DailyBoxController":"DailyBoxController","./PropButtonController":"PropButtonController"}],DataCollectSystem:[function(t,e,o){"use strict";cc._RF.push(e,"013cdl38S9AvK5ctoY28yP3","DataCollectSystem"),Object.defineProperty(o,"__esModule",{value:!0}),o.reportLevelComplete=o.reportLevelFail=o.reportLevelEnter=o.reportUserBehaviorBranchAnalytics=o.LOADING_PAGE=o.TILI_REWARD=o.LOG_KEY_DAILY_REWARD=o.LOG_KEY_GAME_PAGE=o.LOG_KEY_FAIL_REVIVE_PAGE=o.LOG_KEY_REWARD_PAGE=o.LOG_KEY_VIDEO=void 0,o.LOG_KEY_VIDEO={show:"BCBgAAoXHx5d0yKBg9KpEF",success:"BCBgAAoXHx5d0yKBg9KpEE"},o.LOG_KEY_REWARD_PAGE={collect:"BCBgAAoXHx5d0yKBg9KpE9",collectDouble:"BCBgAAoXHx5d0yKBg9KpE8",collectDoubleSuccess:"BCBgAAoXHx5d0yKBg9KpED"},o.LOG_KEY_FAIL_REVIVE_PAGE={revive:"BCBgAAoXHx5d0yKBg9KpE2",reviveSuccess:"BCBgAAoXHx5d0yKBg9KpEC"},o.LOG_KEY_GAME_PAGE={timeBox:"BCBgAAoXHx5d0yKBg9KpEp",timeBoxSuccess:"BCBgAAoXHx5d0yKBg9KpEB",recall:"BCBgAAoXHx5d0yKBg9KpEo",recallVideo:"BCBgAAoXHx5d0yKBg9KpEv",recallVideoSuccess:"BCBgAAoXHx5d0yKBg9KpEK",refresh:"BCBgAAoXHx5d0yKBg9KpEu",refreshVideo:"BCBgAAoXHx5d0yKBg9KpEt",refreshVideoSuccess:"BCBgAAoXHx5d0yKBg9KpEJ",hint:"BCBgAAoXHx5d0yKBg9KpEs",hintVideo:"BCBgAAoXHx5d0yKBg9KpEz",hintVideoSuccess:"BCBgAAoXHx5d0yKBg9KpEL"},o.LOG_KEY_DAILY_REWARD={collect:"BCBgAAoXHx5d0yKBg9KpEg",boxVideo:"BCBgAAoXHx5d0yKBg9KpEh",boxVideoSuccess:"BCBgAAoXHx5d0yKBg9KpEG",collectDouble:"BCBgAAoXHx5d0yKBg9KpEn",collectDoubleSuccess:"BCBgAAoXHx5d0yKBg9KpEH"},o.TILI_REWARD={buttonClick:"BCBgAAoXHx5d0yKBg9KpEN",getRewardSuccess:"BCBgAAoXHx5d0yKBg9KpEM"},o.LOADING_PAGE={showLoadingSuccess:"BCBgAAoXHx5d0yKBg9KpET",showNextScneSuccess:"BCBgAAoXHx5d0yKBg9KpES"};var n="BCBgAAoXHx5d0yKBg9KpEI",r="BCBgAAoXHx5d0yKBg9KpEP",i="BCBgAAoXHx5d0yKBg9KpEO";function a(t,e,o){void 0===e&&(e="0"),void 0===o&&(o=1),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.reportUserBehaviorBranchAnalytics?wx.reportUserBehaviorBranchAnalytics({branchId:t,branchDim:e,eventType:o}):cc.log(t,e,o)}o.reportUserBehaviorBranchAnalytics=a,o.reportLevelEnter=function(t){a(n,t.toString())},o.reportLevelFail=function(t){a(r,t.toString())},o.reportLevelComplete=function(t){a(i,t.toString())},cc._RF.pop()},{}],Decorators:[function(t,e,o){"use strict";cc._RF.push(e,"9e8a3kgoBdMP79EJOq2S5Ye","Decorators"),Object.defineProperty(o,"__esModule",{value:!0}),o.PauseController=void 0;var n=t("../System/GamingSystem");o.PauseController=function(t,e,o){var r=o.value;o.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!(n.default.isPause||n.default.gameOver||n.default.gameComplete))return r.apply(this,t)}},cc._RF.pop()},{"../System/GamingSystem":"GamingSystem"}],EndLayerController:[function(t,e,o){"use strict";cc._RF.push(e,"cf429t/Bq9A26hHf2cLsJ9L","EndLayerController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../Common/AudioConfig"),s=t("../Common/Constant"),u=t("../Libraries/EventEmitter"),f=t("../Platform/PlatformSystem"),p=t("../System/ArchiveSystem"),d=t("../System/AudioSystem"),h=t("../System/DataCollectSystem"),y=t("../System/GamingSystem"),_=t("../System/SceneManagerSystem"),m=t("./GamePlayController"),v=t("./ProgressController"),g=cc._decorator,C=g.ccclass,S=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelLevel=null,e.labelRewardStarNum=null,e.spriteRewardBar=null,e.nodeContent=null,e.nodeWinArea=null,e.nodeLoseArea=null,e.nodeLight=null,e.nodeWinButton=null,e.nodeNoRevived=null,e.nodeCanRevived=null,e.nodeBox=null,e.nodeSkips=null,e.nodeStars=[],e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,u.default().on(s.CUSTOM_EVENT_NAME.localDataUpdate,this.__onDataUpdate,this)},e.prototype.update=function(t){this.nodeLight.angle-=30*t,this.nodeLight.angle<-360&&(this.node.angle%=360)},e.prototype.onEnable=function(){f.default.platform.showCustomAd()},e.prototype.onDisable=function(){f.default.platform.hideCustomAd(),f.default.platform.hideGridAd()},e.prototype.onDestroy=function(){u.default().off(s.CUSTOM_EVENT_NAME.localDataUpdate,this.__onDataUpdate,this),o.I=null},e.prototype.show=function(t){var e=this;if(void 0===t&&(t=!0),this.nodeSkips.active=o.gridAdIsError,this.labelLevel.string="\u7b2c "+y.default.mapInfo.level+" \u5173",this.__onDataUpdate(),this.nodeStars.forEach(function(t){t.active=!0,t.scale=6,t.opacity=0}),this.nodeLight.parent.active=t,this.nodeWinArea.active=t,this.nodeLoseArea.active=!t,!t){var n=m.default.I.getRevivedTime()>0;this.nodeCanRevived.active=n,this.nodeNoRevived.active=!n}var r=v.default.I.getStarsNum();this.nodeWinButton.active=!1,_.default.dialogOnOpen(this.nodeContent,function(){t?0!==r?e.nodeStars.forEach(function(t,o){o>=r||cc.tween(t).delay(.2*o).to(.3,{scale:1,opacity:255},{easing:cc.easing.cubicIn}).call(function(){o===r-1&&e.__collectStars(r)}).start()}):e.__collectStars(0):d.default.play(l.AUDIOS_PATH.level_failed)});var i=y.default.mapInfo.level;p.default.setStarNum(i,r),f.default.platform.showGridAd(),t&&p.default.onCompleteLevel(i)},e.prototype.backHome=function(){_.default.dialogOnClose(this.nodeContent,function(){_.default.sceneChange(s.SCENES_NAME.MainScen)})},e.prototype.replay=function(){var t=this;y.default.startLevel(function(){_.default.dialogOnClose(t.nodeContent,function(){y.default.realStartLevel()})})},e.prototype.next=function(){var t=this;y.default.startLevel(function(){_.default.dialogOnClose(t.nodeContent,function(){return a(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,y.default.loadMap(y.default.mapInfo.level+1)];case 1:return t.sent(),y.default.checkCurrentLevel()?y.default.realStartLevel():_.default.sceneChange(s.SCENES_NAME.MainScen),[2]}})})})})},e.prototype.revive=function(){var t=this;f.default.platform.showRewardVideo(function(){_.default.dialogOnClose(t.nodeContent,function(){y.default.gameOver=!1;for(var t=0;t<3;t++)m.default.I.recall(!1);d.default.play(l.AUDIOS_PATH.revive),h.reportUserBehaviorBranchAnalytics(h.LOG_KEY_FAIL_REVIVE_PAGE.reviveSuccess)})}),h.reportUserBehaviorBranchAnalytics(h.LOG_KEY_FAIL_REVIVE_PAGE.revive)},e.prototype.__collectStars=function(t){var e=this;if(0!==t){var o=this.node.convertToNodeSpaceAR(this.nodeBox.convertToWorldSpaceAR(cc.v3(0,0,0)));d.default.play(l.AUDIOS_PATH.level_complete),this.nodeStars.forEach(function(n,r){if(!(r>=t)){var i=cc.instantiate(n);e.node.addChild(i),i.position=e.node.convertToNodeSpaceAR(n.convertToWorldSpaceAR(cc.v3(0,0,0))),cc.tween(i).to(.8,{scale:i.scale/3,position:o},{easing:cc.easing.cubicInOut}).call(function(){if(i.destroy(),r===t-1){var o=p.default.localData.starsCollect+t,n=o/s.LEVEL_REWARD_SRARS_LIMIT;cc.tween(e.spriteRewardBar).to(.05*t,{fillRange:n},{easing:cc.easing.cubicOut}).call(function(){p.default.localData.starsCollect=o>s.LEVEL_REWARD_SRARS_LIMIT?s.LEVEL_REWARD_SRARS_LIMIT:o,p.default.localData.starsCollect===s.LEVEL_REWARD_SRARS_LIMIT?cc.tween(e.nodeBox).to(.3,{scale:2*e.nodeBox.scale,x:0}).delay(.3).call(function(){_.default.showTimeBoxLayer(),p.default.localData.starsCollect=0,e.nodeWinButton.active=!0}).delay(1).to(.3,{scale:e.nodeBox.scale,x:e.nodeBox.x}).start():e.nodeWinButton.active=!0}).start()}}).start()}})}else this.nodeWinButton.active=!0},e.prototype.__onDataUpdate=function(){this.labelRewardStarNum.string=p.default.localData.starsCollect+"/"+s.LEVEL_REWARD_SRARS_LIMIT,this.spriteRewardBar.fillRange=p.default.localData.starsCollect/s.LEVEL_REWARD_SRARS_LIMIT},e.gridAdIsError=!1,i([S(cc.Label)],e.prototype,"labelLevel",void 0),i([S(cc.Label)],e.prototype,"labelRewardStarNum",void 0),i([S(cc.Sprite)],e.prototype,"spriteRewardBar",void 0),i([S(cc.Node)],e.prototype,"nodeContent",void 0),i([S(cc.Node)],e.prototype,"nodeWinArea",void 0),i([S(cc.Node)],e.prototype,"nodeLoseArea",void 0),i([S(cc.Node)],e.prototype,"nodeLight",void 0),i([S(cc.Node)],e.prototype,"nodeWinButton",void 0),i([S(cc.Node)],e.prototype,"nodeNoRevived",void 0),i([S(cc.Node)],e.prototype,"nodeCanRevived",void 0),i([S(cc.Node)],e.prototype,"nodeBox",void 0),i([S(cc.Node)],e.prototype,"nodeSkips",void 0),i([S([cc.Node])],e.prototype,"nodeStars",void 0),o=i([C],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../Common/AudioConfig":"AudioConfig","../Common/Constant":"Constant","../Libraries/EventEmitter":"EventEmitter","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/AudioSystem":"AudioSystem","../System/DataCollectSystem":"DataCollectSystem","../System/GamingSystem":"GamingSystem","../System/SceneManagerSystem":"SceneManagerSystem","./GamePlayController":"GamePlayController","./ProgressController":"ProgressController"}],EventEmitter:[function(t,e,o){"use strict";cc._RF.push(e,"56d354UID5MuaK/2X/QVPkd","EventEmitter"),Object.defineProperty(o,"__esModule",{value:!0});var n=new cc.EventTarget,r={};o.default=function(t){if(void 0===t&&(t=null),t){if(r.hasOwnProperty(t))return r[t];var e=new cc.EventTarget;return r[t]=e,e}return n},cc._RF.pop()},{}],GamePlayController:[function(t,e,o){"use strict";cc._RF.push(e,"6c5a5qFgS1D6Jh8qVkzKT4U","GamePlayController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){r={error:c}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Common/Constant"),l=t("../Game/SingleBlockController"),s=t("../Libraries/EventEmitter"),u=t("../Libraries/NodePool"),f=t("../Platform/PlatformSystem"),p=t("../System/ArchiveSystem"),d=t("../System/DataCollectSystem"),h=t("../System/GamingSystem"),y=t("../System/SceneManagerSystem"),_=t("../System/SkinSystem"),m=t("./CatcherController"),v=t("./LayerGuideController"),g=cc._decorator,C=g.ccclass,S=g.property,b=a([0,0],2),A=b[0],E=(b[1],function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabBlock=null,e.labelLevelPlaying=null,e.nodeLayerMap=null,e.nodeTopArea=null,e.nodeTimeUpLayer=null,e._revivedTime=1,e._mapLayers=[],e._existBlocks=[],e._blockFlags=[],e._blocksNum=0,e._layerPosY=0,e._maxMapHeight=0,e._refreshing=!1,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,s.default().on(c.CUSTOM_EVENT_NAME.onSceneChanged,this.__mapsGoUp,this),s.default().on(c.CUSTOM_EVENT_NAME.onSceneChangedComplete,this.showMaps,this)},e.prototype.onDestroy=function(){s.default().off(c.CUSTOM_EVENT_NAME.onSceneChanged,this.__mapsGoUp,this),s.default().off(c.CUSTOM_EVENT_NAME.onSceneChangedComplete,this.showMaps,this)},e.prototype.cleanMap=function(){this._mapLayers.forEach(function(t){t.children.forEach(function(t){u.default.putItem(c.NODE_POOL_NAME.singleBlock,t)}),t.destroy()}),this._mapLayers.length=0,this._blocksNum=0},e.prototype.setMap=function(){this.labelLevelPlaying.string="\u7b2c "+h.default.mapInfo.level+" \u5173";for(var t=h.default.mapInfo,e=t.blockTypeNum,o=t.map,n=_.default.getSkinUsing().sort(function(){return Math.random()<.5?1:-1}).slice(0,e),r=[],i=0;i<h.default.mapBlocksNum/c.BLOCK_ELIMINATE_LIMIT;i++)for(var a=i%n.length,s=0;s<c.BLOCK_ELIMINATE_LIMIT;s++)r.push(n[a]);for(r.sort(function(){return Math.random()<.5?1:-1}),i=0;i<o.length;i++){var f=new cc.Node;f.active=!1,this._mapLayers.push(f),this.nodeLayerMap.addChild(f),f.zIndex=i+1;var p=o[i],d=p.width,y=p.height,m=p.x,v=p.y;this._blockFlags.push([]);for(var g=0;g<m.length;g++){var C=1===h.default.mapInfo.level?cc.instantiate(this.prefabBlock):u.default.getItem(c.NODE_POOL_NAME.singleBlock,this.prefabBlock),S=C.getComponent(l.default);this._existBlocks.push(S),this._blockFlags[i].push(!0),f.addChild(C),f.setContentSize(C.width*d,C.height*y),C.setPosition(C.width*m[g]-f.width/2+C.width/2,C.height*(y-1-v[g])-f.height/2+C.height/2),S.init(r[this._blocksNum],g+1,i+1+c.BLOCK_TAG_ADDITION,i,g),this._blocksNum+=1}f.height>this._maxMapHeight&&(this._maxMapHeight=f.height)}},e.prototype.showMaps=function(t){var e=this;if("setMap"===t){var o=m.default.I.node.parent,n=o.parent.convertToNodeSpaceAR(this.nodeTopArea.convertToWorldSpaceAR(cc.v2(0,0))),r=(o.y+o.height*(1-o.anchorY)+n.y-this.nodeTopArea.height/2)/2,i=o.y+o.height+this._maxMapHeight/2+140;this._layerPosY=r<i?r:i,this._mapLayers.forEach(function(t,o,n){e.mapLayerAction(t,o,function(){o===n.length-1&&(v.default.I.show(),s.default().emit(c.CUSTOM_EVENT_NAME.onGameStart),f.default.platform.showInterstitialAd())})})}},e.prototype.mapLayerAction=function(t,e,o){switch(e%4){case 0:t.setPosition(-900,this._layerPosY);break;case 1:t.setPosition(A,1400);break;case 2:t.setPosition(900,this._layerPosY);break;case 3:t.setPosition(A,-1400)}t.active=!0,cc.tween(t).delay(.07*e).to(.2,{x:A,y:this._layerPosY}).delay(.2).call(function(){o&&o()}).start()},e.prototype.recall=function(t){if(void 0===t&&(t=!0),!(h.default.gameOver||h.default.gameComplete||this._refreshing)){if(t&&p.default.localData.recallNum<=0)return f.default.platform.showRewardVideo(function(){p.default.localData.recallNum+=1,f.default.platform.showToast({title:"\u6210\u529f\u83b7\u5f97\u5956\u52b1",duration:2e3}),d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.recallVideoSuccess)}),void d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.recallVideo);var e=m.default.I.getLastBlock();e?(e.recover(),this._existBlocks.push(e),this._blockFlags[e.layerNumber][e.indexNumber]=!0,t&&(p.default.localData.recallNum-=1),d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.recall)):f.default.platform.showToast({title:"\u65e0\u9700\u64a4\u56de"})}},e.prototype.refresh=function(){var t=this;if(!(h.default.gameOver||h.default.gameComplete||this._refreshing)){if(p.default.localData.refreshNum<=0)return f.default.platform.showRewardVideo(function(){p.default.localData.refreshNum+=1,f.default.platform.showToast({title:"\u6210\u529f\u83b7\u5f97\u5956\u52b1",duration:2e3}),d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.refreshVideoSuccess)}),void d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.refreshVideo);this._refreshing=!0,this._existBlocks.sort(function(){return Math.random()>.5?1:-1});for(var e=0,o=h.default.mapInfo.map,n=function(n){for(var i=r._mapLayers[n],a=o[n],l=a.height,s=a.x,u=a.y,f=r._blockFlags[n],p=0;p<f.length;p++)if(f[p]){var d=r._existBlocks[e],h=d.node;h.setParent(i),h.setPosition(h.width*s[p]-i.width/2+h.width/2,h.height*(l-1-u[p])-i.height/2+h.height/2),d.init(d.blockSkin.spriteFrame,p+1,n+1+c.BLOCK_TAG_ADDITION,n,p),e+=1}r.mapLayerAction(i,n,function(){n===t._blockFlags.length-1&&(t._refreshing=!1)})},r=this,i=0;i<this._blockFlags.length;i++)n(i);p.default.localData.refreshNum-=1,d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.refresh)}},e.prototype.hint=function(){if(!(h.default.gameOver||h.default.gameComplete||this._refreshing)){if(p.default.localData.hintNum<=0)return f.default.platform.showRewardVideo(function(){p.default.localData.hintNum+=1,f.default.platform.showToast({title:"\u6210\u529f\u83b7\u5f97\u5956\u52b1",duration:2e3}),d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.hintVideoSuccess)}),void d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.hintVideo);for(var t=!1,e=m.default.I.getBlankCatcherNum(),o=this._existBlocks.filter(function(){return!0}).reverse(),n=m.default.I.catchers.filter(function(t){return!!t.getCurrentBlock()}),r=function(r){var i=n[r].getCurrentBlock().blockSkin.spriteFrame,a=n.filter(function(t){return t.getCurrentBlock().blockSkin.spriteFrame==i}).length;if(a>=c.BLOCK_ELIMINATE_LIMIT)return"continue";if(a+e<c.BLOCK_ELIMINATE_LIMIT)return"continue";var l=o.filter(function(t){return t.blockSkin.spriteFrame==i});if(l.length+a<c.BLOCK_ELIMINATE_LIMIT)return"continue";for(var s=0;s<c.BLOCK_ELIMINATE_LIMIT-a;s++)l[s].collect();return t=!0,"break"},i=0;i<n.length&&"break"!==r(i);i++);if(!t&&e>=c.BLOCK_ELIMINATE_LIMIT)for(var a=function(e){var n=o[e].blockSkin.spriteFrame,r=o.filter(function(t){return t.blockSkin.spriteFrame==n});if(r.length<c.BLOCK_ELIMINATE_LIMIT)return"continue";for(var i=0;i<c.BLOCK_ELIMINATE_LIMIT;i++)r[i].collect();return t=!0,"break"},l=0;l<o.length&&"break"!==a(l);l++);t?(p.default.localData.hintNum-=1,d.reportUserBehaviorBranchAnalytics(d.LOG_KEY_GAME_PAGE.hint)):f.default.platform.showToast({title:"\u65e0\u6cd5\u6d88\u9664",duration:2e3})}},e.prototype.subBlockNum=function(){this._blocksNum-=1},e.prototype.updateBlockLeft=function(t){this._existBlocks.splice(this._existBlocks.indexOf(t),1),this._blockFlags[t.layerNumber][t.indexNumber]=!1},e.prototype.getBlocksLeftNum=function(){return this._blocksNum},e.prototype.getBlocksAvailable=function(){return this._existBlocks.filter(function(t){return t.available})},e.prototype.checkResult=function(t){void 0===t&&(t=""),m.default.I.isNotFull()?o.I.getBlocksLeftNum()<=0&&this.LevelSuccess():this.LevelFail()},e.prototype.getRevivedTime=function(){return this._revivedTime},e.prototype.LevelSuccess=function(){h.default.gameComplete=!0,y.default.showEndLayer(!0),s.default().emit(c.CUSTOM_EVENT_NAME.onGameComplete),d.reportLevelComplete(h.default.mapInfo.level)},e.prototype.LevelFail=function(){h.default.gameOver=!0,y.default.showEndLayer(!1),this._revivedTime-=1,d.reportLevelFail(h.default.mapInfo.level)},e.prototype.TimeUp=function(){var t=this;this.nodeTimeUpLayer.active=!0,h.default.gameOver=!0,this.scheduleOnce(function(){t.nodeTimeUpLayer.active=!1,t.LevelFail()},1.4)},e.prototype.__mapsGoUp=function(){this._mapLayers.forEach(function(t){cc.tween(t).to(c.AREA_MOVE_DURATION,{y:t.y+1400}).start()})},i([S(cc.Prefab)],e.prototype,"prefabBlock",void 0),i([S(cc.Label)],e.prototype,"labelLevelPlaying",void 0),i([S(cc.Node)],e.prototype,"nodeLayerMap",void 0),i([S(cc.Node)],e.prototype,"nodeTopArea",void 0),i([S(cc.Node)],e.prototype,"nodeTimeUpLayer",void 0),o=i([C],e)}(cc.Component));o.default=E,cc._RF.pop()},{"../Common/Constant":"Constant","../Game/SingleBlockController":"SingleBlockController","../Libraries/EventEmitter":"EventEmitter","../Libraries/NodePool":"NodePool","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/DataCollectSystem":"DataCollectSystem","../System/GamingSystem":"GamingSystem","../System/SceneManagerSystem":"SceneManagerSystem","../System/SkinSystem":"SkinSystem","./CatcherController":"CatcherController","./LayerGuideController":"LayerGuideController"}],GameSceneController:[function(t,e,o){"use strict";cc._RF.push(e,"4d55eeT4eFNw7nxFq89YU4n","GameSceneController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../Common/Constant"),s=t("../Game/CatcherController"),u=t("../Game/GamePlayController"),f=t("../Game/ProgressController"),p=t("../System/ArchiveSystem"),d=t("../System/GamingSystem"),h=t("../System/SceneManagerSystem"),y=cc._decorator,_=y.ccclass,m=(y.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this},e.prototype.start=function(){if(this.startGame(),d.default.mapInfo.level>1){var t=(new Date).toLocaleDateString();p.default.localData.dailyRewardGotTime!==t&&h.default.showDailyLayer()}},e.prototype.startGame=function(){d.default.init(),f.default.I.init(),this.cleanPlayArea(),this.scheduleOnce(function(){u.default.I.setMap()},l.AREA_MOVE_DURATION+.01)},e.prototype.cleanPlayArea=function(){u.default.I.cleanMap(),s.default.I.clean()},e.prototype.onPauseClick=function(){h.default.showPauseLayer()},e.prototype.onNextClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,d.default.loadMap(d.default.mapInfo.level+1)];case 1:return t.sent(),h.default.sceneChange(l.SCENES_NAME.GameScene),[2]}})})},o=i([_],e)}(cc.Component));o.default=m,cc._RF.pop()},{"../Common/Constant":"Constant","../Game/CatcherController":"CatcherController","../Game/GamePlayController":"GamePlayController","../Game/ProgressController":"ProgressController","../System/ArchiveSystem":"ArchiveSystem","../System/GamingSystem":"GamingSystem","../System/SceneManagerSystem":"SceneManagerSystem"}],GamingSystem:[function(t,e,o){"use strict";cc._RF.push(e,"0ebe9QSmyNDfrW3SlDQcw5s","GamingSystem");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../Common/Constant"),a=t("./DataCollectSystem"),c=t("./LifeSystem"),l=t("./SceneManagerSystem"),s=function(){function t(){this.mapInfo=null,this.gameOver=!1,this.gameComplete=!1,this.isPause=!1,this.maps={}}return t.prototype.initialize=function(){return n(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return t=this,[4,new Promise(function(t,e){cc.assetManager.loadBundle("bundle_levels",function(o,n){o?e(o):t(n)})})];case 1:return t.bundleLevels=e.sent(),this.maxLevelNumber=this.bundleLevels.getDirWithPath("/").length,[2]}})})},t.prototype.loadMap=function(t){var e=this;if(t in this.maps){this.mapInfo=this.maps[t],this.mapInfo.level=t;var o=this.mapInfo.map;return this.mapLayersNum=o.length,this.mapBlocksNum=o.reduce(function(t,e){return t+e.x.length},0),this.preLoadMap(t+1),void cc.log("\u83b7\u53d6\u73b0\u6210\u5730\u56fe\uff0c\u5173\u5361\uff1a"+t+" ",this.mapInfo)}return new Promise(function(o){e.bundleLevels.load(""+t.toString(),function(n,r){if(n)cc.log("\u52a0\u8f7d\u5730\u56fe\u4fe1\u606f\u51fa\u9519\uff0c\u5173\u5361\uff1a"+t),e.mapInfo=null,o();else{e.mapInfo=r.json,e.mapInfo.level=t;var i=e.mapInfo.map;e.mapLayersNum=i.length,e.mapBlocksNum=i.reduce(function(t,e){return t+e.x.length},0),e.preLoadMap(t+1),cc.log("\u52a0\u8f7d\u5730\u56fe\u4fe1\u606f\u6210\u529f\uff0c\u5173\u5361\uff1a"+t+" ",e.mapInfo),o()}})})},t.prototype.preLoadMap=function(t){var e=this;t in this.maps||this.bundleLevels.load(""+t.toString(),function(o,n){o?cc.log("\u9884\u52a0\u8f7d\u5730\u56fe\u4fe1\u606f\u51fa\u9519\uff0c\u5173\u5361\uff1a"+t):(e.maps[t]=n.json,cc.log("\u9884\u52a0\u8f7d\u5730\u56fe\u4fe1\u606f\u6210\u529f\uff0c\u5173\u5361\uff1a"+t+" "))})},t.prototype.init=function(){this.gameOver=!1,this.gameComplete=!1,this.isPause=!1},t.prototype.startLevel=function(t){var e=this;void 0===t&&(t=function(){e.realStartLevel()}),c.default.lifeIsEmpty()?l.default.showLackOfLife(t):t()},t.prototype.checkCurrentLevel=function(){return null!==this.mapInfo||(cc.sys.platform==cc.sys.WECHAT_GAME?wx.showModal({title:"\u901a\u5173\u4e86\uff01",content:"\u66f4\u591a\u5173\u5361\u6b63\u5728\u8def\u4e0a\uff01"}):cc.log("\u901a\u5173\u4e86,\u6ca1\u6709\u5173\u5361\u53ef\u4ee5\u73a9\u4e86"),!1)},t.prototype.realStartLevel=function(t){void 0===t&&(t=!0),c.default.costLife(),t&&l.default.sceneChange(i.SCENES_NAME.GameScene),a.reportLevelEnter(this.mapInfo.level)},t}();o.default=new s,cc._RF.pop()},{"../Common/Constant":"Constant","./DataCollectSystem":"DataCollectSystem","./LifeSystem":"LifeSystem","./SceneManagerSystem":"SceneManagerSystem"}],GlobalSystem:[function(t,e,o){"use strict";cc._RF.push(e,"6160b6aSwBKapNAwbzyAHH+","GlobalSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.initialize=function(){cc.director.getCollisionManager().enabled=!0,cc.macro.ENABLE_MULTI_TOUCH=!1},t}();o.default=new n,cc._RF.pop()},{}],Helper:[function(t,e,o){"use strict";cc._RF.push(e,"fa96b3P7PlCvLR5kb5g41Q2","Helper");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.timeFormat=function(t,e){void 0===e&&(e=!1);var o=Math.floor(t/60),n=t%60;return e?Math.floor(o/60).toString().padStart(2,"0")+":"+(o%60).toString().padStart(2,"0")+":"+n.toString().padStart(2,"0"):o.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")},e.prototype.getContent=function(t,e){if(e&&t)for(var o in e)t=t.replace("{{ "+o+" }}",e[o].toString());return t},e.prototype.verbatim=function(t){return i(this,function(e){switch(e.label){case 0:return t.hasOwnProperty("length")?[5,a(t)]:[2];case 1:return e.sent(),[2]}})},e.prototype.labelVerbatim=function(t,e,o){var n=this;void 0===o&&(o=.05);var r=this.verbatim(e);return t.string="",new Promise(function(i){n.schedule(function(){var e=r.next();e.done?i():t.string+=e.value},o,e.length)})},e.prototype.isNormalScreen=function(){return cc.winSize.height/cc.winSize.width<1.78},e}(cc.Component);o.default=new c,cc._RF.pop()},{}],LackOfLifeController:[function(t,e,o){"use strict";cc._RF.push(e,"7acd2qqwVJLroeiXGhWkzRI","LackOfLifeController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Common/Helper"),l=t("../Platform/PlatformSystem"),s=t("../System/ArchiveSystem"),u=t("../System/DataCollectSystem"),f=t("../System/LifeSystem"),p=t("../System/SceneManagerSystem"),d=t("./EndLayerController"),h=cc._decorator,y=h.ccclass,_=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeContent=null,e.labelLifeAmount=null,e.labelTimeLeft=null,e.labelRecoverTip=null,e.labelButtonLabel=null,e._executeSuccessCallBack=!1,e._successCallBack=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,this.node.active=!1},e.prototype.update=function(){this.__updateTimer()},e.prototype.onEnable=function(){l.default.platform.showCustomAd()},e.prototype.onDisable=function(){l.default.platform.hideCustomAd(),d.default.I&&d.default.I.node.active&&l.default.platform.showGridAd()},e.prototype.onDestroy=function(){o.I=null},e.prototype.closeSelf=function(){var t=this;p.default.dialogOnClose(this.nodeContent,function(){t._executeSuccessCallBack&&(t._successCallBack&&t._successCallBack(),t.setSuccessCallBack())})},e.prototype.getReward=function(){var t=this;if(s.default.localData.lifeLeft<a.LIFE_MAX)return u.reportUserBehaviorBranchAnalytics(u.TILI_REWARD.buttonClick),void l.default.platform.showRewardVideo(function(){f.default.rewardLife(a.LIFE_REWARD_ONCE_VIDEO),t._executeSuccessCallBack=!0,t.closeSelf(),u.reportUserBehaviorBranchAnalytics(u.TILI_REWARD.getRewardSuccess)});l.default.platform.showToast({title:"\u4f53\u529b\u5df2\u6ee1"})},e.prototype.setSuccessCallBack=function(t){void 0===t&&(t=null),this._successCallBack=t},e.prototype.show=function(){this.__setContent(),p.default.dialogOnOpen(this.nodeContent),d.default.I&&d.default.I.node.active&&l.default.platform.hideGridAd()},e.prototype.__setContent=function(){this.labelButtonLabel.string="\u4f53\u529b+"+a.LIFE_REWARD_ONCE_VIDEO,this.labelLifeAmount.string=s.default.localData.lifeLeft+"/"+a.LIFE_MAX,this.labelRecoverTip.string="\u6bcf "+a.LIFT_RECOVER_DURATION/60+" \u5206\u949f\u6062\u590d 1 \u70b9\u4f53\u529b"},e.prototype.__updateTimer=function(){this.labelLifeAmount.string=s.default.localData.lifeLeft+"/"+a.LIFE_MAX,this.labelTimeLeft.string=f.default.lifeIsFull()?c.default.timeFormat(0):c.default.timeFormat(f.default.getTimeLeft(),!0)},i([_(cc.Node)],e.prototype,"nodeContent",void 0),i([_(cc.Label)],e.prototype,"labelLifeAmount",void 0),i([_(cc.Label)],e.prototype,"labelTimeLeft",void 0),i([_(cc.Label)],e.prototype,"labelRecoverTip",void 0),i([_(cc.Label)],e.prototype,"labelButtonLabel",void 0),o=i([y],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../Common/Constant":"Constant","../Common/Helper":"Helper","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/DataCollectSystem":"DataCollectSystem","../System/LifeSystem":"LifeSystem","../System/SceneManagerSystem":"SceneManagerSystem","./EndLayerController":"EndLayerController"}],LayerGuideController:[function(t,e,o){"use strict";cc._RF.push(e,"23962389a5BGbzsibj4oGJn","LayerGuideController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../System/GamingSystem"),l=t("./GamePlayController"),s=t("./PropAreaController"),u=cc._decorator,f=u.ccclass,p=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UILayer=null,e.isGuiding=!1,e._same=[],e._guideTime=1,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,this.node.zIndex=a.GUIDE_LAYER_ZINDEX,this.node.active=!1},e.prototype.show=function(){1===c.default.mapInfo.level&&(this.node.parent.zIndex+=1,this.isGuiding=!0,this.node.active=1===c.default.mapInfo.level,this.findSame(),this.showGuideOne())},e.prototype.findSame=function(){this._guideTime-=1;for(var t=l.default.I.getBlocksAvailable(),e=[],o=function(o){var r=t[o];if(e.some(function(t){return t.blockSkin.spriteFrame==r.blockSkin.spriteFrame}))return"continue";e.push(r);var i=t.filter(function(t){return t.blockSkin.spriteFrame==r.blockSkin.spriteFrame});return i.length>=a.BLOCK_ELIMINATE_LIMIT?(n._same=i.slice(0,a.BLOCK_ELIMINATE_LIMIT),"break"):void 0},n=this,r=0;r<t.length&&"break"!==o(r);r++);},e.prototype.showGuideOne=function(){0!==this._same.length?this._same.shift().moveToLayerMap():0===this._guideTime?(this.node.active=!1,this.isGuiding=!1,this.node.parent.zIndex-=1,this.UILayer.zIndex+=2,s.default.I.showPropGuide()):(this.findSame(),this.showGuideOne())},i([p(cc.Node)],e.prototype,"UILayer",void 0),o=i([f],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Common/Constant":"Constant","../System/GamingSystem":"GamingSystem","./GamePlayController":"GamePlayController","./PropAreaController":"PropAreaController"}],LevelButtonController:[function(t,e,o){"use strict";cc._RF.push(e,"f0053kuHU5P3qmUZPqrpnX4","LevelButtonController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../System/ArchiveSystem"),s=t("../System/GamingSystem"),u=t("./LevelLayerController"),f=cc._decorator,p=f.ccclass,d=f.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelLevel=null,e.buttonLevel=null,e.nodeLock=null,e.nodeStarsDark=null,e.nodeGuide=null,e.nodeStarsLight=[],e}return r(e,t),Object.defineProperty(e.prototype,"buttonLevelNumber",{get:function(){return this._buttonLevelNumber},set:function(t){this._buttonLevelNumber=t;var e=t>l.default.localData.currentMaxLevel,o=l.default.getStarNum(t);this.labelLevel.node.active=!e,this.nodeLock.active=e,this.nodeStarsDark.active=!e,this.nodeGuide.active=1===t,this.labelLevel.string=t.toString(),this.nodeStarsLight.forEach(function(t,e){t.active=e<o})},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.buttonLevelNumber=t},e.prototype.onButtonClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.buttonLevelNumber>l.default.localData.currentMaxLevel?[2]:(u.default.I.closeSelf(),[4,s.default.loadMap(this.buttonLevelNumber)]);case 1:return t.sent(),s.default.startLevel(),[2]}})})},e.prototype.hide=function(){this.node.active=!1},i([d(cc.Label)],e.prototype,"labelLevel",void 0),i([d(cc.Button)],e.prototype,"buttonLevel",void 0),i([d(cc.Node)],e.prototype,"nodeLock",void 0),i([d(cc.Node)],e.prototype,"nodeStarsDark",void 0),i([d(cc.Node)],e.prototype,"nodeGuide",void 0),i([d([cc.Node])],e.prototype,"nodeStarsLight",void 0),i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../System/ArchiveSystem":"ArchiveSystem","../System/GamingSystem":"GamingSystem","./LevelLayerController":"LevelLayerController"}],LevelLayerController:[function(t,e,o){"use strict";cc._RF.push(e,"170775k6RRJ5KuslLulcZ2Q","LevelLayerController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Common/ListController"),l=t("../Libraries/EventEmitter"),s=t("../System/ArchiveSystem"),u=t("../System/GamingSystem"),f=t("../System/SceneManagerSystem"),p=t("./LevelButtonController"),d=cc._decorator,h=d.ccclass,y=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelList=null,e.nodeContent=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){var t=this;o.I=this,this.node.active=!1,l.default().on(a.CUSTOM_EVENT_NAME.onSceneChangedComplete,function(e){"setLevelList"===e&&t.__setList()},this)},e.prototype.show=function(){f.default.dialogOnOpen(this.nodeContent),this.levelList.scorllTo(s.default.localData.currentMaxLevel-1)},e.prototype.closeSelf=function(){f.default.dialogOnClose(this.nodeContent)},e.prototype.__setList=function(){this.levelList.resetData(Array.from(new Array(u.default.maxLevelNumber+1).keys()).slice(1),p.default),this.levelList.scorllTo(s.default.localData.currentMaxLevel-1)},i([y(c.default)],e.prototype,"levelList",void 0),i([y(cc.Node)],e.prototype,"nodeContent",void 0),o=i([h],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../Common/Constant":"Constant","../Common/ListController":"ListController","../Libraries/EventEmitter":"EventEmitter","../System/ArchiveSystem":"ArchiveSystem","../System/GamingSystem":"GamingSystem","../System/SceneManagerSystem":"SceneManagerSystem","./LevelButtonController":"LevelButtonController"}],LifeShowController:[function(t,e,o){"use strict";cc._RF.push(e,"de64cWJqgdLvIQapb8aq5o4","LifeShowController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Common/Helper"),l=t("../Libraries/EventEmitter"),s=t("../Platform/PlatformSystem"),u=t("../System/ArchiveSystem"),f=t("../System/LifeSystem"),p=t("../System/SceneManagerSystem"),d=cc._decorator,h=d.ccclass,y=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelLifeLeft=null,e.labelTimer=null,e}return r(e,t),e.prototype.onLoad=function(){l.default().on(a.CUSTOM_EVENT_NAME.localDataUpdate,this.__onDataUpdate,this)},e.prototype.onDestroy=function(){l.default().off(a.CUSTOM_EVENT_NAME.localDataUpdate,this.__onDataUpdate,this)},e.prototype.onEnable=function(){this.__onDataUpdate()},e.prototype.update=function(){this.labelTimer.node.active&&(this.labelTimer.string=c.default.timeFormat(f.default.getTimeLeft()))},e.prototype.onClick=function(){u.default.localData.lifeLeft<a.LIFE_MAX?p.default.showLackOfLife():s.default.platform.showToast({title:"\u4f53\u529b\u5df2\u6ee1"})},e.prototype.__onDataUpdate=function(){this.labelLifeLeft.string=u.default.localData.lifeLeft+"/"+a.LIFE_MAX,this.labelTimer.node.active=!f.default.lifeIsFull()},i([y(cc.Label)],e.prototype,"labelLifeLeft",void 0),i([y(cc.Label)],e.prototype,"labelTimer",void 0),i([h],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../Common/Constant":"Constant","../Common/Helper":"Helper","../Libraries/EventEmitter":"EventEmitter","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/LifeSystem":"LifeSystem","../System/SceneManagerSystem":"SceneManagerSystem"}],LifeSystem:[function(t,e,o){"use strict";cc._RF.push(e,"37204nKtnJCdYN3duL7g/wh","LifeSystem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=t("../Common/Constant"),a=t("./ArchiveSystem"),c=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.initialize=function(){if(a.default.localData.lifeLeft<i.LIFE_MAX){var t=1e3*i.LIFT_RECOVER_DURATION,e=Date.now(),o=e-a.default.localData.lifeLastTimePoint,n=Math.floor(o/t);this.rewardLife(n),a.default.localData.lifeLastTimePoint=e-o%t}this.schedule(this.__updateTimer,.1)},e.prototype.rewardLife=function(t){var e=t+a.default.localData.lifeLeft;e>i.LIFE_MAX&&(e=i.LIFE_MAX),a.default.localData.lifeLeft=e},e.prototype.costLife=function(){return this.lifeIsFull()&&(a.default.localData.lifeLastTimePoint=Date.now()),a.default.localData.lifeLeft-=1,!0},e.prototype.lifeIsEmpty=function(){return 0===a.default.localData.lifeLeft},e.prototype.lifeIsFull=function(){return a.default.localData.lifeLeft===i.LIFE_MAX},e.prototype.getTimeLeft=function(){return Math.ceil((1e3*i.LIFT_RECOVER_DURATION-Date.now()+a.default.localData.lifeLastTimePoint)/1e3)},e.prototype.__updateTimer=function(){if(a.default.localData.lifeLeft<i.LIFE_MAX){var t=1e3*i.LIFT_RECOVER_DURATION,e=Date.now();e-a.default.localData.lifeLastTimePoint>=t&&(this.rewardLife(1),a.default.localData.lifeLastTimePoint=e)}else a.default.localData.lifeLeft=i.LIFE_MAX},e}(cc.Component);o.default=new c,cc._RF.pop()},{"../Common/Constant":"Constant","./ArchiveSystem":"ArchiveSystem"}],ListController:[function(t,e,o){"use strict";cc._RF.push(e,"257f6iC+0hGVpVAflhdLvIu","ListController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.spaceX=0,e.spaceY=0,e.repeatX=3,e.repeatY=3,e.affectedByScale=!1,e._currentIndex=null,e._itemRealWidth=0,e._itemRealHeight=0,e._templetes=[],e}return r(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._scrollView=this.node.getComponent(cc.ScrollView)},e.prototype.setData=function(t,e){this._itemControllerClass=e,this.data=t,this.__setList()},e.prototype.resetData=function(t,e){this._scrollView=this.node.getComponent(cc.ScrollView),0===this._templetes.length?this.setData(t,e):(this.data=t,this.scorllTo(0),this.updateItem(0,!0))},e.prototype.scorllTo=function(t){var e=t;if(this._scrollView.vertical){for(;e%this.repeatX!=0;)e-=1;var o=this._scrollView.content.height-this._scrollView.content.parent.height,n=e/this.repeatX*(this._itemRealHeight+this.spaceY);n<0?n=0:n>o&&(n=o),this._scrollView.scrollToOffset(cc.v2(0,n),.5)}else this._scrollView.horizontal},e.prototype.updateItem=function(t,e){var o=this;void 0===e&&(e=!1);var n=this._scrollView.vertical?this.repeatX:this.repeatY;if(e||!(t===this._currentIndex||this.data.length>this._templetes.length-2*n&&this.data.length-t+2*n<=this._templetes.length)){var r=[];if(0===t){var i=new Array(this.repeatX).fill(null),a=this.data.slice(t,t+this._templetes.length-this.repeatX);r=i.concat(a)}else r=this.data.slice(t-n,t-n+this._templetes.length);r.length<this._templetes.length&&(r=r.concat(new Array(this._templetes.length-r.length).fill(null))),this._templetes.forEach(function(t,e){null===r[e]?t.hide():t.init(r[e])}),this._scrollView.vertical?this._templetes.forEach(function(e){var n=o._currentIndex/o.repeatX,r=t/o.repeatX;e.node.y+=(n-r)*(o._itemRealHeight+o.spaceY)}):this._scrollView.horizontal,this._currentIndex=t}},e.prototype.onScrolling=function(t){var e=t.content,o=(e.x,e.y);if(t.vertical){if(o<=0||o>=e.height-e.parent.height)return;var n=Math.floor(Math.abs(o)/(this._itemRealHeight+this.spaceY));this.updateItem(n*this.repeatX)}else t.horizontal},e.prototype.__setList=function(){var t=cc.instantiate(this.item),e=this._scrollView.content;if(this._itemRealWidth=this.affectedByScale?t.width*t.scale:t.width,this._itemRealHeight=this.affectedByScale?t.height*t.scale:t.height,this._scrollView.vertical){this.repeatX=Math.floor(this.repeatX),this.repeatX<1&&(this.repeatX=1,console.warn("\u8bf7\u4fee\u6539 repeatX \u5c5e\u6027\u4e3a\u5927\u4e8e0\u7684\u6574\u6570")),e.setContentSize((this._itemRealWidth+this.spaceX)*this.repeatX-this.spaceX,(this._itemRealHeight+this.spaceY)*Math.ceil(this.data.length/this.repeatX)),this.node.width=e.width;for(var o=Math.ceil(e.parent.height/(this._itemRealHeight+this.spaceY))+2,n=0;n<o;n++)for(var r=(1-n)*(this._itemRealHeight+this.spaceY)-this._itemRealHeight*(1-t.anchorY),i=0;i<this.repeatX;i++){var a=cc.instantiate(this.item);e.addChild(a),a.setPosition((this._itemRealWidth+this.spaceX)*i+this._itemRealWidth*t.anchorX-e.width/2,r),this._templetes.push(a.getComponent(this._itemControllerClass))}}else if(this._scrollView.horizontal){this.repeatY=Math.floor(this.repeatY),this.repeatY<1&&(this.repeatY=1,console.warn("\u8bf7\u4fee\u6539 repeatY \u5c5e\u6027\u4e3a\u5927\u4e8e0\u7684\u6574\u6570")),e.setContentSize((this._itemRealWidth+this.spaceX)*Math.ceil(this.data.length/this.repeatY),(this._itemRealHeight+this.spaceY)*this.repeatY-this.spaceY),this.node.height=e.height;var c=Math.ceil(e.parent.width/(this._itemRealWidth+this.spaceX))+2;for(n=0;n<c;n++){var l=(n-1)*(this._itemRealWidth+this.spaceX)+this._itemRealWidth*t.anchorX-e.width/2;for(i=0;i<this.repeatX;i++)a=cc.instantiate(this.item),e.addChild(a),a.setPosition(l,-i*(this._itemRealHeight+this.spaceY)-this._itemRealHeight*(1-t.anchorY)),this._templetes.push(a.getComponent(this._itemControllerClass))}}this.updateItem(0)},i([l(cc.Prefab)],e.prototype,"item",void 0),i([l(cc.Integer)],e.prototype,"spaceX",void 0),i([l(cc.Integer)],e.prototype,"spaceY",void 0),i([l({type:cc.Integer,tooltip:"\u4ec5\u5f53\u7c7b\u578b\u4e3a VERTICAL \u65f6\u6709\u6548"})],e.prototype,"repeatX",void 0),i([l({type:cc.Integer,tooltip:"\u4ec5\u5f53\u7c7b\u578b\u4e3a HORIZONAL \u65f6\u6709\u6548"})],e.prototype,"repeatY",void 0),i([l],e.prototype,"affectedByScale",void 0),i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],LoadingSceneController:[function(t,e,o){"use strict";cc._RF.push(e,"b682a645mlO56j6L2OspJcx","LoadingSceneController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../Common/Constant"),s=t("../Platform/PlatformSystem"),u=t("../System/ArchiveSystem"),f=t("../System/AudioSystem"),p=t("../System/DataCollectSystem"),d=t("../System/GamingSystem"),h=t("../System/GlobalSystem"),y=t("../System/LifeSystem"),_=t("../System/SceneManagerSystem"),m=t("../System/SkinSystem"),v=cc._decorator,g=v.ccclass,C=v.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteLoadingBar=null,e.labelLoadingTip=null,e._updating=!1,e._loaded=!1,e}return r(e,t),e.prototype.onLoad=function(){this.spriteLoadingBar.fillRange=0},e.prototype.start=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return h.default.initialize(),u.default.initialize(),y.default.initialize(),this.labelLoadingTip.string="\u6b63\u5728\u52a0\u8f7d\u5173\u5361\u4fe1\u606f...",[4,d.default.initialize()];case 1:return t.sent(),this.labelLoadingTip.string="\u8d44\u6e90\u52a0\u8f7d\u8fc7\u7a0b\u4e0d\u6d88\u8017\u6d41\u91cf...",d.default.preLoadMap(u.default.localData.currentMaxLevel),[4,m.default.initialize()];case 2:return t.sent(),s.default.initialize(),_.default.initialize(),f.default.initialize(),this.__debugInit(),this.__dailyCheck(),this._loadingScene=u.default.localData.currentMaxLevel>d.default.maxLevelNumber?l.SCENES_NAME.MainScen:l.SCENES_NAME.GameScene,u.default.localData.lifeLeft<=0&&(this._loadingScene=l.SCENES_NAME.MainScen),this._updating=!0,_.default.preloadPrefabs(),p.reportUserBehaviorBranchAnalytics(p.LOADING_PAGE.showLoadingSuccess),[2]}})})},e.prototype.update=function(){return a(this,void 0,void 0,function(){var t=this;return c(this,function(e){switch(e.label){case 0:return this._loaded?[2]:this._updating?(_.default.loadedProgress[this._loadingScene]>this.spriteLoadingBar.fillRange&&(this.spriteLoadingBar.fillRange=_.default.loadedProgress[this._loadingScene]),1!==this.spriteLoadingBar.fillRange?[3,3]:(this._loaded=!0,this._loadingScene!==l.SCENES_NAME.GameScene?[3,2]:[4,d.default.loadMap(u.default.localData.currentMaxLevel)])):[3,4];case 1:e.sent(),e.label=2;case 2:_.default.sceneChange(this._loadingScene,!1),u.default.localData.lifeLeft>0?d.default.realStartLevel(!1):d.default.startLevel(function(){return a(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,d.default.loadMap(u.default.localData.currentMaxLevel)];case 1:return t.sent(),d.default.checkCurrentLevel()?(d.default.realStartLevel(),[2]):[2]}})})}),s.default.platform.showBannerAd(),p.reportUserBehaviorBranchAnalytics(p.LOADING_PAGE.showNextScneSuccess),e.label=3;case 3:return[3,5];case 4:this.spriteLoadingBar.fillRange<.8&&(this.spriteLoadingBar.fillRange+=.01),e.label=5;case 5:return[2]}})})},e.prototype.__dailyCheck=function(){var t=u.default.localData,e=(new Date).toLocaleDateString();t.lastLoginData!=e&&(t.videoRewardTimesToday=0,t.lastLoginData=e)},e.prototype.__debugInit=function(){switch(cc.sys.platform){case cc.sys.WECHAT_GAME:case cc.sys.ANDROID:}},i([C(cc.Sprite)],e.prototype,"spriteLoadingBar",void 0),i([C(cc.Label)],e.prototype,"labelLoadingTip",void 0),i([g],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../Common/Constant":"Constant","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/AudioSystem":"AudioSystem","../System/DataCollectSystem":"DataCollectSystem","../System/GamingSystem":"GamingSystem","../System/GlobalSystem":"GlobalSystem","../System/LifeSystem":"LifeSystem","../System/SceneManagerSystem":"SceneManagerSystem","../System/SkinSystem":"SkinSystem"}],MainSceneController:[function(t,e,o){"use strict";cc._RF.push(e,"336a97GM5VFp6w2EEVPdDDN","MainSceneController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../Game/LevelLayerController"),s=t("../System/ArchiveSystem"),u=t("../System/GamingSystem"),f=t("../System/SceneManagerSystem"),p=cc._decorator,d=p.ccclass,h=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelCurrentLevel=null,e}return r(e,t),e.prototype.onLoad=function(){this.labelCurrentLevel.string="\u7b2c "+s.default.localData.currentMaxLevel+" \u5173"},e.prototype.start=function(){var t=(new Date).toLocaleDateString();s.default.localData.dailyRewardGotTime!==t&&f.default.showDailyLayer()},e.prototype.onDisable=function(){},e.prototype.onStartClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,u.default.loadMap(s.default.localData.currentMaxLevel)];case 1:return t.sent(),u.default.checkCurrentLevel()?(u.default.startLevel(),[2]):[2]}})})},e.prototype.onLevelButtonClick=function(){l.default.I.show()},i([h(cc.Label)],e.prototype,"labelCurrentLevel",void 0),i([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Game/LevelLayerController":"LevelLayerController","../System/ArchiveSystem":"ArchiveSystem","../System/GamingSystem":"GamingSystem","../System/SceneManagerSystem":"SceneManagerSystem"}],Navigation:[function(t,e,o){"use strict";cc._RF.push(e,"6851dsWZNRCjZ2fsFTCZmkZ","Navigation");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.appID="",e}return r(e,t),e.prototype.onLoad=function(){var t=this;switch(cc.sys.platform){case cc.sys.WECHAT_GAME:this.node.on(cc.Node.EventType.TOUCH_END,function(){wx.navigateToMiniProgram({appId:t.appID})},this);break;default:this.node.on(cc.Node.EventType.TOUCH_END,function(){cc.log(t.appID)},this)}},i([l],e.prototype,"appID",void 0),i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],NodePool:[function(t,e,o){"use strict";cc._RF.push(e,"316dcXv9xpFqJ3tm/8TfOH3","NodePool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._nodePools={}}return t.prototype.getItem=function(t,e){var o=this.__getPool(t);return o.size()>0?o.get():cc.instantiate(e)},t.prototype.putItem=function(t,e){this.__getPool(t).put(e)},t.prototype.clear=function(t){this.__getPool(t).clear()},t.prototype.__getPool=function(t){return t in this._nodePools||(this._nodePools[t]=new cc.NodePool),this._nodePools[t]},t}();o.default=new n,cc._RF.pop()},{}],PauseLayerController:[function(t,e,o){"use strict";cc._RF.push(e,"a9ab7iA+gVIvao9Ee5fsQaA","PauseLayerController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Platform/PlatformSystem"),l=t("../System/ArchiveSystem"),s=t("../System/AudioSystem"),u=t("../System/GamingSystem"),f=t("../System/SceneManagerSystem"),p=cc._decorator,d=p.ccclass,h=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeContent=null,e.nodeMusicOn=null,e.nodeMusicOff=null,e.nodeSoundOn=null,e.nodeSoundOff=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this},e.prototype.onDestroy=function(){o.I=null},e.prototype.onEnable=function(){u.default.isPause=!0,c.default.platform.showCustomAd()},e.prototype.onDisable=function(){u.default.isPause=!1,c.default.platform.hideCustomAd()},e.prototype.show=function(){this.__setMusicSwitch(),this.__setSoundSwitch(),f.default.dialogOnOpen(this.nodeContent)},e.prototype.onContinue=function(){f.default.dialogOnClose(this.nodeContent)},e.prototype.onRestart=function(){var t=this;u.default.startLevel(function(){f.default.dialogOnClose(t.nodeContent,function(){u.default.realStartLevel()})})},e.prototype.onBackHome=function(){f.default.dialogOnClose(this.nodeContent,function(){f.default.sceneChange(a.SCENES_NAME.MainScen)})},e.prototype.onSwitchMusic=function(){l.default.switchMusic(),this.__setMusicSwitch()},e.prototype.onSwitchSound=function(){l.default.switchSound(),this.__setSoundSwitch()},e.prototype.__setMusicSwitch=function(){var t=l.default.localData.music;this.nodeMusicOn.active=t,this.nodeMusicOff.active=!t,t?s.default.playMusic():s.default.stopMusic()},e.prototype.__setSoundSwitch=function(){var t=l.default.localData.sound;this.nodeSoundOn.active=t,this.nodeSoundOff.active=!t},i([h(cc.Node)],e.prototype,"nodeContent",void 0),i([h(cc.Node)],e.prototype,"nodeMusicOn",void 0),i([h(cc.Node)],e.prototype,"nodeMusicOff",void 0),i([h(cc.Node)],e.prototype,"nodeSoundOn",void 0),i([h(cc.Node)],e.prototype,"nodeSoundOff",void 0),o=i([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Common/Constant":"Constant","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/AudioSystem":"AudioSystem","../System/GamingSystem":"GamingSystem","../System/SceneManagerSystem":"SceneManagerSystem"}],PlatformDefault:[function(t,e,o){"use strict";cc._RF.push(e,"912f3M9gZFE3787ruyoaamY","PlatformDefault"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.initialize=function(){cc.log("\u521d\u59cb\u5316\u9ed8\u8ba4\u5e7f\u544a\u6846\u67b6")},t.prototype.showToast=function(t){cc.log("\u663e\u793atoast  ",t)},t.prototype.shareAppMessage=function(t){void 0===t&&(t={}),cc.log("\u5206\u4eab ",t)},t.prototype.vibrateShort=function(t){void 0===t&&(t={}),cc.log("\u77ed\u9707\u52a8 ",t)},t.prototype.vibrateLong=function(t){void 0===t&&(t={}),cc.log("\u957f\u9707\u52a8 ",t)},t.prototype.shareShowReward=function(t){void 0===t&&(t=null),cc.log("\u76f4\u63a5\u6267\u884c\u5206\u4eab\u56de\u8c03"),t&&t()},t.prototype.showRewardVideo=function(t){void 0===t&&(t=null),cc.log("\u76f4\u63a5\u6267\u884c\u89c6\u9891\u56de\u8c03"),t&&t()},t.prototype.showBannerAd=function(){cc.log("\u663e\u793abanner\u5e7f\u544a")},t.prototype.hideBannerAd=function(t){void 0===t&&(t=!1),cc.log("\u9690\u85cfbanner\u5e7f\u544a\uff0c\u5237\u65b0\uff1a",t)},t.prototype.refreshBannerAd=function(){cc.log("\u5237\u65b0banner\u5e7f\u544a")},t.prototype.showInterstitialAd=function(){cc.log("\u663e\u793a\u63d2\u5c4f\u5e7f\u544a")},t.prototype.showCustomAd=function(){cc.log("\u663e\u793a\u81ea\u5b9a\u4e49\u5e7f\u544a")},t.prototype.hideCustomAd=function(){cc.log("\u9690\u85cf\u81ea\u5b9a\u4e49\u5e7f\u544a")},t.prototype.showGridAd=function(){cc.log("\u663e\u793a\u683c\u5b50\u5e7f\u544a")},t.prototype.hideGridAd=function(){cc.log("\u9690\u85cf\u683c\u5b50\u5e7f\u544a")},t.prototype.exitGame=function(){cc.log("\u9000\u51fa\u6e38\u620f")},t.prototype.__createVideoAd=function(){cc.log("\u521b\u5efa\u89c6\u9891\u5e7f\u544a")},t.prototype.__createBannerAd=function(){cc.log("\u521b\u5efabanner\u5e7f\u544a")},t.prototype.__createInterstitialAd=function(){cc.log("\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a")},t}();o.default=new n,cc._RF.pop()},{}],PlatformSystem:[function(t,e,o){"use strict";cc._RF.push(e,"a22d2MBCw9JeZ4CaZUuoOi/","PlatformSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./PlatformDefault"),r=t("./PlatformWX"),i=function(){function t(){this._platformWX=r.default,this._platformDefault=n.default}return Object.defineProperty(t.prototype,"platform",{get:function(){switch(cc.sys.platform){case cc.sys.WECHAT_GAME:return this._platformWX;default:return this._platformDefault}},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){switch(cc.sys.platform){case cc.sys.WECHAT_GAME:this._platformWX.initialize();break;default:this._platformDefault.initialize()}},t}();o.default=new i,cc._RF.pop()},{"./PlatformDefault":"PlatformDefault","./PlatformWX":"PlatformWX"}],PlatformWX:[function(t,e,o){"use strict";cc._RF.push(e,"5b030wJHVpEILrh6SvxUEpG","PlatformWX"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Common/Helper"),r=t("../Game/EndLayerController"),i=t("../System/ArchiveSystem"),a=t("../System/AudioSystem"),c=t("../System/DataCollectSystem"),l=t("./wxConfig"),s=function(){function t(){this._onHideTime=1/0,this._shareTimes=0,this._shareSuccessHandler=null,this._videoSuccessHandler=null,this._showInterstitialAdTime=null,this._shareModalIsActive=!1}return t.prototype.initialize=function(){var t=this;cc.log("\u521d\u59cb\u5316\u5fae\u4fe1\u6846\u67b6"),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"],success:function(){},fail:function(){},complete:function(){}}),wx.onShow(function(){if(null!=t._shareSuccessHandler&&!t._shareModalIsActive){switch(t._shareTimes+=1,t._shareTimes){case 1:wx.showModal({title:"\u5206\u4eab\u5931\u8d25",content:"\u6210\u529f\u5206\u4eab\u5230\u7fa4\u5373\u53ef\u83b7\u5f97\u5956\u52b1",success:function(e){e.confirm?t.shareShowReward(t._shareSuccessHandler):e.cancel&&(t._shareSuccessHandler=null,t._shareTimes=0),t._shareModalIsActive=!1}}),t._shareModalIsActive=!0;break;case 2:Date.now()-t._onHideTime>=4e3?(t._shareSuccessHandler&&t._shareSuccessHandler(),t._shareTimes=0,i.default.localData.videoRewardTimesToday+=1):(wx.showModal({title:"\u5206\u4eab\u5931\u8d25",content:"\u6210\u529f\u5206\u4eab\u5230\u7fa4\u5373\u53ef\u83b7\u5f97\u5956\u52b1",success:function(e){e.confirm?t.shareShowReward(t._shareSuccessHandler):e.cancel&&(t._shareSuccessHandler=null,t._shareTimes=0),t._shareModalIsActive=!1}}),t._shareModalIsActive=!0);break;case 3:t._shareSuccessHandler&&t._shareSuccessHandler(),t._shareSuccessHandler=null,t._shareTimes=0,i.default.localData.videoRewardTimesToday+=1}t._onHideTime=1/0}}),this.__createBannerAd(),this.__createVideoAd(),this.__createCustomAd(),this.__createInterstitialAd(),this.__createGridAd()},t.prototype.showToast=function(t){var e={title:"",icon:"none",duration:2e3};Object.assign(e,t),wx.showToast(e)},t.prototype.shareAppMessage=function(t){void 0===t&&(t={}),wx.shareAppMessage(t)},t.prototype.vibrateShort=function(t){void 0===t&&(t={}),wx.vibrateShort(t)},t.prototype.vibrateLong=function(t){void 0===t&&(t={}),wx.vibrateLong(t)},t.prototype.shareShowReward=function(t){void 0===t&&(t=null),this._shareSuccessHandler=t,this._onHideTime=Date.now(),this.shareAppMessage()},t.prototype.showRewardVideo=function(t){var e=this;void 0===t&&(t=null),this._rewardVideo?(this._videoSuccessHandler=t,this._rewardVideo.show().then(function(){cc.log("\u89c6\u9891\u64ad\u653e\u6210\u529f"),c.reportUserBehaviorBranchAnalytics(c.LOG_KEY_VIDEO.show)}).catch(function(){e._rewardVideo.load().then(function(){e._rewardVideo.show().then(function(){cc.log("\u89c6\u9891\u91cd\u65b0\u52a0\u8f7d\uff0c\u64ad\u653e\u6210\u529f"),c.reportUserBehaviorBranchAnalytics(c.LOG_KEY_VIDEO.show)})}).catch(function(){e.shareShowReward(t),e._videoSuccessHandler=null})})):this.__turnVideoToShare(t)},t.prototype.showBannerAd=function(){var t=this;if(this._bannerAd){var e=wx.getSystemInfoSync(),o=e.screenWidth,n=e.screenHeight;this._bannerAd.show().then(function(){t._bannerAd.style.left=(o-t._bannerAd.style.realWidth)/2,t._bannerAd.style.top=n-t._bannerAd.style.realHeight}).catch(function(t){cc.log("banner\u5e7f\u544a\u663e\u793a\u51fa\u9519",t)})}},t.prototype.hideBannerAd=function(t){void 0===t&&(t=!1),this._bannerAd&&(this._bannerAd.hide(),t&&this.refreshBannerAd())},t.prototype.refreshBannerAd=function(){this._bannerAd&&(this._bannerAd.destroy(),this.__createBannerAd())},t.prototype.showInterstitialAd=function(){if(this._interstitialAd){var t=Date.now();null!=this._showInterstitialAdTime?t-this._showInterstitialAdTime>12e4&&(this._interstitialAd.show(),this._showInterstitialAdTime=t):this._showInterstitialAdTime=t}},t.prototype.showCustomAd=function(){this._customAd&&this._customAd.show().catch(function(t){cc.log("\u539f\u751f\u5e7f\u544a\u663e\u793a\u51fa\u9519",t)})},t.prototype.hideCustomAd=function(){this._customAd&&this._customAd.hide().catch(function(t){cc.log("\u539f\u751f\u5e7f\u544a\u9690\u85cf\u51fa\u9519",t)})},t.prototype.showGridAd=function(){this._gridAd&&this._gridAd.show().catch(function(t){cc.log("\u683c\u5b50\u5e7f\u544a\u663e\u793a\u51fa\u9519",t)})},t.prototype.hideGridAd=function(){this._gridAd&&this._gridAd.hide().catch(function(t){cc.log("\u683c\u5b50\u5e7f\u544a\u9690\u85cf\u51fa\u9519",t)})},t.prototype.exitGame=function(){wx.exitMiniProgram({})},t.prototype.__createVideoAd=function(){var t=this;l.WX_CONFIG.AD_ID.video&&(this._rewardVideo=wx.createRewardedVideoAd({adUnitId:l.WX_CONFIG.AD_ID.video}),this._rewardVideo.onClose(function(e){if(e&&e.isEnded||void 0===e){if(null==t._videoSuccessHandler)return;t._videoSuccessHandler&&t._videoSuccessHandler(),i.default.localData.videoRewardTimesToday+=1,c.reportUserBehaviorBranchAnalytics(c.LOG_KEY_VIDEO.success)}else t.showToast({title:"\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u6709\u5956\u52b1\u54e6"});t._videoSuccessHandler=null,a.default.stopMusic(),a.default.playMusic()}),this._rewardVideo.onError(function(){t.showToast({title:"\u6682\u65f6\u6ca1\u6709\u53ef\u89c2\u770b\u7684\u89c6\u9891"}),t.shareShowReward(t._videoSuccessHandler),t._videoSuccessHandler=null}))},t.prototype.__createBannerAd=function(){if(l.WX_CONFIG.AD_ID.banner){var t=wx.getSystemInfoSync();this._bannerAd=wx.createBannerAd({adUnitId:l.WX_CONFIG.AD_ID.banner,style:{left:0,top:0,width:n.default.isNormalScreen()?300:t.screenWidth,height:0}}),this._bannerAd.onError(function(t){t.errCode}),this._bannerAd.onResize(function(){})}},t.prototype.__createInterstitialAd=function(){l.WX_CONFIG.AD_ID.interstitial&&(this._interstitialAd=wx.createInterstitialAd({adUnitId:l.WX_CONFIG.AD_ID.interstitial}))},t.prototype.__createCustomAd=function(){if(l.WX_CONFIG.AD_ID.custom){var t=wx.getSystemInfoSync();this._customAd=wx.createCustomAd({adUnitId:l.WX_CONFIG.AD_ID.custom,adIntervals:60,style:{left:t.screenWidth-100,top:20+(t.screenHeight-t.screenWidth/720*1280)/2}}),this._customAd.onError(function(t){t.errCode})}},t.prototype.__createGridAd=function(){if(l.WX_CONFIG.AD_ID.grid){var t=wx.getSystemInfoSync();this._gridAd=wx.createGridAd({adUnitId:l.WX_CONFIG.AD_ID.grid,adTheme:"white",gridCount:5,style:{left:(t.screenWidth-330)/2,top:t.screenHeight/2-20,width:330,opacity:.8}}),this._gridAd.onError(function(t){r.default.gridAdIsError=!0,t.errCode})}},t.prototype.__turnVideoToShare=function(t){this.shareShowReward(t),this._videoSuccessHandler=null},t}();o.default=new s,cc._RF.pop()},{"../Common/Helper":"Helper","../Game/EndLayerController":"EndLayerController","../System/ArchiveSystem":"ArchiveSystem","../System/AudioSystem":"AudioSystem","../System/DataCollectSystem":"DataCollectSystem","./wxConfig":"wxConfig"}],PositionAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"331d45WOiJDjYas1AH/XWH0","PositionAdapter");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../Common/Helper"),l=cc._decorator,s=l.ccclass,u=l.property;(function(t){t[t.top=0]="top",t[t.bottom=1]="bottom"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positionType=a.top,e.normal=0,e.bigger=0,e.auto=!0,e}return r(e,t),e.prototype.start=function(){var t=this;0!==this.normal&&0!==this.bigger&&this.scheduleOnce(function(){var e=t.node,o=e.parent,n=c.default.isNormalScreen();switch(t.positionType){case a.top:e.y=o.height*(1-o.anchorY)-(n?t.normal:t.bigger);break;case a.bottom:e.y=o.height*(o.anchorY-1)+(n?t.normal:t.bigger)}})},i([u({type:cc.Enum(a)})],e.prototype,"positionType",void 0),i([u(cc.Float)],e.prototype,"normal",void 0),i([u(cc.Float)],e.prototype,"bigger",void 0),i([u],e.prototype,"auto",void 0),i([s],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../Common/Helper":"Helper"}],ProgressController:[function(t,e,o){"use strict";cc._RF.push(e,"571eeCHcJFPjIxRfQKppMfS","ProgressController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Decorators"),c=t("../System/ArchiveSystem"),l=t("../System/GamingSystem"),s=t("./GamePlayController"),u=t("./ProgressStarController"),f=cc._decorator,p=f.ccclass,d=f.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteProgressBar=null,e.starsController=[],e}var o;return r(e,t),o=e,Object.defineProperty(e.prototype,"timer",{get:function(){return this._timer},set:function(t){var e=this;this._timer=t,t<0&&(this._timer=0),t>this._fullTime&&(this._timer=this._fullTime);var o=this.timer/this._fullTime;this.spriteProgressBar.fillRange=o,this.starsController.forEach(function(t){o>(t.node.x+e.node.width/2)/e.node.width?t.lightUp():t.lightOff()})},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o.I=this},e.prototype.update=function(t){1!=c.default.localData.currentMaxLevel&&(this.timer<=0||l.default.isPause||l.default.gameOver||l.default.gameComplete||(this.timer-=t,this.timer<=0&&s.default.I.TimeUp()))},e.prototype.init=function(){var t=l.default.mapBlocksNum*l.default.mapLayersNum*.3;this._fullTime=t,this.timer=t},e.prototype.onEliminate=function(){this.timer+=l.default.mapLayersNum},e.prototype.getStarsNum=function(){return this.starsController.filter(function(t){return t.isLight()}).length},i([d(cc.Sprite)],e.prototype,"spriteProgressBar",void 0),i([d([u.default])],e.prototype,"starsController",void 0),i([a.PauseController],e.prototype,"update",null),o=i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Common/Decorators":"Decorators","../System/ArchiveSystem":"ArchiveSystem","../System/GamingSystem":"GamingSystem","./GamePlayController":"GamePlayController","./ProgressStarController":"ProgressStarController"}],ProgressStarController:[function(t,e,o){"use strict";cc._RF.push(e,"728c9bK0R9FUYoP3MVtHUx3","ProgressStarController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeLight=null,e}return r(e,t),e.prototype.lightUp=function(){this.nodeLight.active=!0},e.prototype.lightOff=function(){this.nodeLight.active=!1},e.prototype.isLight=function(){return this.nodeLight.active},i([l(cc.Node)],e.prototype,"nodeLight",void 0),i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ProjectConfig:[function(t,e,o){"use strict";cc._RF.push(e,"d8bd4eI7Y1Fj7J2v23HGWiL","ProjectConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PROJECT_CONFIG=void 0,o.PROJECT_CONFIG={appID:"xxxxxxxxxxxxx",gameName:"tile-master"},cc._RF.pop()},{}],PropAreaController:[function(t,e,o){"use strict";cc._RF.push(e,"4582bQIiBFBUKkSKAST+Ut7","PropAreaController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Common/Decorators"),l=t("../Libraries/EventEmitter"),s=t("../System/GamingSystem"),u=t("./PropButtonController"),f=cc._decorator,p=f.ccclass,d=f.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.propButtonControllers=[],e.mask=null,e._guideIndex=0,e._counting=!1,e._tipIsShowing=!1,e._tipIndex=0,e._timePassed=0,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,this.mask.active=!1,this.propButtonControllers.forEach(function(t,e){t.setPropButtonType(e)}),l.default().on(a.CUSTOM_EVENT_NAME.onGameStart,this.onGameStart,this),l.default().on(a.CUSTOM_EVENT_NAME.onGameComplete,this.onGameComplete,this)},e.prototype.onDestroy=function(){l.default().off(a.CUSTOM_EVENT_NAME.onGameStart,this.onGameStart,this),l.default().off(a.CUSTOM_EVENT_NAME.onGameComplete,this.onGameComplete,this)},e.prototype.update=function(t){s.default.isPause||s.default.gameOver||s.default.gameComplete||(this._timePassed+=t,this._counting?this._timePassed>=a.PROP_TIP_SHOW_AFTER&&this.showTip():this._tipIsShowing&&this._timePassed>=a.PROP_TIP_CHANGE_AFTER&&this.changeTip())},e.prototype.showPropGuide=function(){1===s.default.mapInfo.level&&(this._guideIndex>0&&this.propButtonControllers[this._guideIndex-1].hideTip(),this._guideIndex===this.propButtonControllers.length?this.mask.active=!1:(this.mask.active=!0,this.mask.zIndex=5,this.propButtonControllers[this._guideIndex].showTip(),this._guideIndex+=1))},e.prototype.onGameStart=function(){this._counting=!0},e.prototype.onGameComplete=function(){this.hideTip(),this._counting=!1},e.prototype.showTip=function(){this._timePassed=0,this._counting=!1,this._tipIsShowing=!0,this.propButtonControllers[this._tipIndex].showAnimation()},e.prototype.hideTip=function(){this._timePassed=0,this._counting=!0,this._tipIsShowing=!1,this.propButtonControllers.forEach(function(t){t.hideAnimation()})},e.prototype.changeTip=function(){this._timePassed=0,this.propButtonControllers[this._tipIndex].hideAnimation(),this._tipIndex+=1,this._tipIndex===this.propButtonControllers.length&&(this._tipIndex=0),this.propButtonControllers[this._tipIndex].showAnimation()},i([d(u.default)],e.prototype,"propButtonControllers",void 0),i([d(cc.Node)],e.prototype,"mask",void 0),i([c.PauseController],e.prototype,"update",null),o=i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Common/Constant":"Constant","../Common/Decorators":"Decorators","../Libraries/EventEmitter":"EventEmitter","../System/GamingSystem":"GamingSystem","./PropButtonController":"PropButtonController"}],PropButtonController:[function(t,e,o){"use strict";cc._RF.push(e,"9bb7fBBzcdI4ZSzbnGXy5Zj","PropButtonController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BUTTON_TYPE=void 0;var a=t("../Common/Constant"),c=t("../Libraries/EventEmitter"),l=t("../System/ArchiveSystem"),s=t("./GamePlayController"),u=t("./PropAreaController"),f=cc._decorator,p=f.ccclass,d=f.property;o.BUTTON_TYPE=[a.PROP_BUTTON_TYPE.recall,a.PROP_BUTTON_TYPE.refresh,a.PROP_BUTTON_TYPE.hint];var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeVideoIcon=null,e.labelLeft=null,e.labelDesc=null,e.spriteButtonSkin=null,e.frameButtonSkins=[],e._tipTween=null,e}return r(e,t),e.prototype.onLoad=function(){this._originScale=this.node.scale},e.prototype.onDestroy=function(){c.default().off(a.CUSTOM_EVENT_NAME.localDataUpdate,this.updateLeftText,this)},e.prototype.setPropButtonType=function(t){var e=this,o=this.node;switch(this._propButtonType=t,this.spriteButtonSkin.spriteFrame=this.frameButtonSkins[this._propButtonType],this._propButtonType){case a.PROP_BUTTON_TYPE.recall:o.on(cc.Node.EventType.TOUCH_END,function(){e.labelDesc.node.active||s.default.I.recall()},this),this.labelDesc.string="\u64a4\u56de\uff1a\u64a4\u56de\u4e00\u6b65";break;case a.PROP_BUTTON_TYPE.refresh:o.on(cc.Node.EventType.TOUCH_END,function(){e.labelDesc.node.active||s.default.I.refresh()},this),this.labelDesc.string="\u5237\u65b0\uff1a\u91cd\u65b0\u6392\u5217";break;case a.PROP_BUTTON_TYPE.hint:o.on(cc.Node.EventType.TOUCH_END,function(){e.labelDesc.node.active||s.default.I.hint()},this),this.labelDesc.string="\u63d0\u793a\uff1a\u81ea\u52a8\u6d88\u9664\u4e00\u7ec4"}o.on(cc.Node.EventType.TOUCH_END,u.default.I.showPropGuide,u.default.I),c.default().on(a.CUSTOM_EVENT_NAME.localDataUpdate,this.updateLeftText,this),this.updateLeftText(),this.hideTip()},e.prototype.updateLeftText=function(){var t=l.default.localData;switch(this._propButtonType){case a.PROP_BUTTON_TYPE.recall:this.labelLeft.string=t.recallNum>0?t.recallNum.toString():"+";break;case a.PROP_BUTTON_TYPE.refresh:this.labelLeft.string=t.refreshNum>0?t.refreshNum.toString():"+";break;case a.PROP_BUTTON_TYPE.hint:this.labelLeft.string=t.hintNum>0?t.hintNum.toString():"+"}var e="+"===this.labelLeft.string;this.nodeVideoIcon.active=e,this.labelLeft.node.active=!e},e.prototype.showTip=function(){this.node.zIndex=10,this.labelDesc.node.active=!0},e.prototype.hideTip=function(){this.node.zIndex=0,this.labelDesc.node.active=!1},e.prototype.showAnimation=function(){if(!this.labelDesc.node.active){var t=cc.tween().to(.5,{scale:1.2*this._originScale}).to(.5,{scale:this._originScale});this._tipTween=cc.tween(this.node).then(t).repeatForever().start()}},e.prototype.hideAnimation=function(){this._tipTween&&this._tipTween.stop(),this._tipTween=null,this.node.scale=this._originScale},i([d(cc.Node)],e.prototype,"nodeVideoIcon",void 0),i([d(cc.Label)],e.prototype,"labelLeft",void 0),i([d(cc.Label)],e.prototype,"labelDesc",void 0),i([d(cc.Sprite)],e.prototype,"spriteButtonSkin",void 0),i([d([cc.SpriteFrame])],e.prototype,"frameButtonSkins",void 0),i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Common/Constant":"Constant","../Libraries/EventEmitter":"EventEmitter","../System/ArchiveSystem":"ArchiveSystem","./GamePlayController":"GamePlayController","./PropAreaController":"PropAreaController"}],SceneManagerSystem:[function(t,e,o){"use strict";cc._RF.push(e,"d75cch6lslEErOYb3oB9aB2","SceneManagerSystem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],n=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../Common/Constant"),s=t("../Game/DailyLayerController"),u=t("../Game/EndLayerController"),f=t("../Game/LackOfLifeController"),p=t("../Game/PauseLayerController"),d=t("../Game/TimeBoxLayerController"),h=t("../Libraries/EventEmitter"),y=function(t){function e(){var e=t.call(this)||this;return e.loadedProgress={},e}return r(e,t),e.prototype.initialize=function(){var t,e,o=this,n=function(t){cc.log("\u9884\u52a0\u8f7d\u573a\u666f\uff1a ",t),r.loadedProgress[t]=0,cc.director.preloadScene(t,function(e,n){o.loadedProgress[t]=e/n},function(){})},r=this;try{for(var i=c(Object.values(l.SCENES_NAME)),a=i.next();!a.done;a=i.next())n(a.value)}catch(s){t={error:s}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.preloadPrefabs=function(){var t,e;try{for(var o=c(Object.values(l.PREFABS_NAME)),n=o.next();!n.done;n=o.next()){var r=n.value;cc.log("\u9884\u52a0\u9884\u5236\u4f53\uff1a ",r),cc.resources.preload(r)}}catch(i){t={error:i}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},e.prototype.sceneChange=function(t,e){void 0===e&&(e=!0),h.default().emit(l.CUSTOM_EVENT_NAME.onSceneChanged),e?this.scheduleOnce(function(){cc.director.loadScene(t)},l.AREA_MOVE_DURATION):cc.director.loadScene(t)},e.prototype.dialogOnOpen=function(t,e){void 0===e&&(e=null),t.y+=1280,t.parent.active=!0,cc.tween(t).to(.3,{y:t.y-1280},{easing:cc.easing.backOut}).call(e).start()},e.prototype.dialogOnClose=function(t,e){cc.tween(t).to(.3,{y:t.y-1280},{easing:cc.easing.backIn}).call(function(){t.parent.active=!1,t.y+=1280,e&&e()}).start()},e.prototype.showLackOfLife=function(t){return void 0===t&&(t=null),i(this,void 0,void 0,function(){var e=this;return a(this,function(o){switch(o.label){case 0:return f.default.I?[3,2]:[4,new Promise(function(t){cc.resources.load(l.PREFABS_NAME.LackOfLife,function(o,n){var r=cc.instantiate(n);r.zIndex=1e3,e.__getCurentRoot().addChild(r),t()})})];case 1:o.sent(),o.label=2;case 2:return f.default.I.setSuccessCallBack(t),f.default.I.show(),[2]}})})},e.prototype.showDailyLayer=function(){return i(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return s.default.I?[3,2]:[4,new Promise(function(e){cc.resources.load(l.PREFABS_NAME.DailyLayer,function(o,n){var r=cc.instantiate(n);t.__getCurentRoot().addChild(r),e()})})];case 1:e.sent(),e.label=2;case 2:return s.default.I.show(),[2]}})})},e.prototype.showEndLayer=function(t){return void 0===t&&(t=!0),i(this,void 0,void 0,function(){var e=this;return a(this,function(o){switch(o.label){case 0:return u.default.I?[3,2]:[4,new Promise(function(t){cc.resources.load(l.PREFABS_NAME.EndLayer,function(o,n){var r=cc.instantiate(n);e.__getCurentRoot().addChild(r),t()})})];case 1:o.sent(),o.label=2;case 2:return u.default.I.show(t),[2]}})})},e.prototype.showPauseLayer=function(){return i(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return p.default.I?[3,2]:[4,new Promise(function(e){cc.resources.load(l.PREFABS_NAME.PauseLayer,function(o,n){var r=cc.instantiate(n);t.__getCurentRoot().addChild(r),e()})})];case 1:e.sent(),e.label=2;case 2:return p.default.I.show(),[2]}})})},e.prototype.showTimeBoxLayer=function(){return i(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return d.default.I?[3,2]:[4,new Promise(function(e){cc.resources.load(l.PREFABS_NAME.TimeBoxLayer,function(o,n){var r=cc.instantiate(n);t.__getCurentRoot().addChild(r),e()})})];case 1:e.sent(),e.label=2;case 2:return d.default.I.show(),[2]}})})},e.prototype.__getCurentRoot=function(){return cc.director.getScene().getChildByName("Canvas")},e}(cc.Component);o.default=new y,cc._RF.pop()},{"../Common/Constant":"Constant","../Game/DailyLayerController":"DailyLayerController","../Game/EndLayerController":"EndLayerController","../Game/LackOfLifeController":"LackOfLifeController","../Game/PauseLayerController":"PauseLayerController","../Game/TimeBoxLayerController":"TimeBoxLayerController","../Libraries/EventEmitter":"EventEmitter"}],SingleBlockController:[function(t,e,o){"use strict";cc._RF.push(e,"e06848prXdPMqPYYa7W0mqx","SingleBlockController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/AudioConfig"),c=t("../Common/Constant"),l=t("../Libraries/EventEmitter"),s=t("../Libraries/NodePool"),u=t("../System/AudioSystem"),f=t("./CatcherController"),p=t("./GamePlayController"),d=t("./LayerGuideController"),h=t("./PropAreaController"),y=t("./ToucherController"),_=cc._decorator,m=_.ccclass,v=_.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeGuideHand=null,e.blockSkin=null,e.collider=null,e.stayCatcher=null,e.isMoving=!1,e.isEliminating=!1,e._collectd=!1,e._touched=!1,e._blockCoverd=[],e._isGuide=!1,e._available=!0,e}return r(e,t),Object.defineProperty(e.prototype,"available",{get:function(){return this._available},set:function(t){this._available=t,this.blockSkin.node.color=t?cc.color(255,255,255):cc.color(120,120,120)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){l.default().on(c.CUSTOM_EVENT_NAME.onSceneChanged,this.__onSceneChanged,this)},e.prototype.onDisable=function(){l.default().off(c.CUSTOM_EVENT_NAME.onSceneChanged,this.__onSceneChanged,this)},e.prototype.start=function(){this.nodeGuideHand.active=!1},e.prototype.onCollisionEnter=function(t){if(t.tag!==c.TOUCHER_COLLIDER_TAG)t.tag<this.collider.tag||(this._blockCoverd.push(t.node),this.available=!1);else{if(d.default.I.isGuiding&&!this._isGuide)return;if(!this.available)return;this.__onTouchEnter()}},e.prototype.onCollisionExit=function(t,e){if(t.tag!==c.TOUCHER_COLLIDER_TAG){if(!(t.tag<e.tag)){var o=this._blockCoverd.indexOf(t.node);-1!==o&&(this._blockCoverd.splice(o,1),0===this._blockCoverd.length&&(this.available=!0))}}else{if(d.default.I.isGuiding&&!this._isGuide)return;if(!this.available)return;this.__onTouchOut()}},e.prototype.init=function(t,e,o,n,r){this._collectd=!1,this._blockCoverd.length=0,this._isGuide=!1,this.available=!0,this.blockSkin.spriteFrame=t,this.node.zIndex=e,this.node.scale=1,this._originParent=this.node.parent,this._originZindex=e,this._originPosition=this.node.position,this.stayCatcher=null,this.isEliminating=!1,this.isMoving=!1,this.collider.tag=o,this.collider.enabled=!0,this.layerNumber=n,this.indexNumber=r},e.prototype.collect=function(){this._collectd||f.default.I.catchOneBlock(this)&&(h.default.I.hideTip(),p.default.I.updateBlockLeft(this),this._collectd=!0,this.collider.enabled=!1,this.nodeGuideHand.active=!1)},e.prototype.recover=function(){var t=this;this.available=!0,this.stayCatcher.discardBlock(),this.stayCatcher=null;var e=this.node.parent.convertToNodeSpaceAR(this._originParent.convertToWorldSpaceAR(this._originPosition));cc.tween(this.node).to(e.sub(this.node.position).mag()/c.BLOCK_COLLECT_SPEED,{position:e},{easing:cc.easing.quadOut}).call(function(){t.node.setParent(t._originParent),t.node.setPosition(t._originPosition),t.node.zIndex=t._originZindex,t.collider.enabled=!0,t._collectd=!1}).start(),f.default.I.resetPosAfterRecall()},e.prototype.eliminateSelf=function(){var t=this;return this.isEliminating=!0,new Promise(function(e){cc.tween(t.node).to(.1,{scale:1.1*t.node.scale}).to(.15,{scale:0}).call(function(){t.stayCatcher.afterEliminate(),s.default.putItem(c.NODE_POOL_NAME.singleBlock,t.node),p.default.I.subBlockNum(),e()}).start()})},e.prototype.onCatched=function(){this.isMoving=!1,f.default.I.checkEliminate(this.blockSkin.spriteFrame),this._isGuide&&d.default.I.showGuideOne()},e.prototype.moveToLayerMap=function(){var t=p.default.I.nodeLayerMap,e=t.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(0,0)));this.node.setParent(t),this.node.setPosition(e),this.node.zIndex=c.GUIDE_BLOCK_ZINDEX,this._isGuide=!0,this.nodeGuideHand.active=!0},e.prototype.__onTouchEnter=function(){u.default.play(a.AUDIOS_PATH.block_click),this._touched=!0,this.node.zIndex+=1e3,y.default.I.matchTarget(this),this._clickTween&&this._clickTween.stop(),this._clickTween=cc.tween(this.node).to((1.1-this.node.scale)/.1*.05,{scale:1.1}).start()},e.prototype.__onTouchOut=function(){this._touched&&(this._touched=!1,y.default.I.releaseTarget(),this._clickTween&&this._clickTween.stop(),this._clickTween=cc.tween(this.node).to((this.node.scale-1)/.1*.05,{scale:1}).start(),this.isMoving||(this.node.zIndex-=1e3))},e.prototype.__onSceneChanged=function(){this._collectd&&(this.node.active=!1)},i([v(cc.Node)],e.prototype,"nodeGuideHand",void 0),i([v(cc.Sprite)],e.prototype,"blockSkin",void 0),i([v(cc.BoxCollider)],e.prototype,"collider",void 0),i([m],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../Common/AudioConfig":"AudioConfig","../Common/Constant":"Constant","../Libraries/EventEmitter":"EventEmitter","../Libraries/NodePool":"NodePool","../System/AudioSystem":"AudioSystem","./CatcherController":"CatcherController","./GamePlayController":"GamePlayController","./LayerGuideController":"LayerGuideController","./PropAreaController":"PropAreaController","./ToucherController":"ToucherController"}],SingleCatcherController:[function(t,e,o){"use strict";cc._RF.push(e,"44c6crHhPlDSp8RD1inuweR","SingleCatcherController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Libraries/NodePool"),l=t("./CatcherController"),s=t("./GamePlayController"),u=cc._decorator,f=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentBlock=null,e._catchingTween=null,e}return r(e,t),e.prototype.catchBlock=function(t){var e=this;this._currentBlock=t,t.stayCatcher=this,t.isMoving=!0,this._catchingTween&&this._catchingTween.stop();var o=s.default.I.nodeLayerMap,n=o.convertToNodeSpaceAR(t.node.convertToWorldSpaceAR(cc.v2(0,0))),r=o.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(0,0))),i=n.sub(r).mag();t.node.setParent(o),t.node.setPosition(n),t.node.zIndex=a.BLOCK_COLLECT_ZINDEX+l.default.I.catchers.indexOf(this),this._catchingTween=cc.tween(t.node).to(i/a.BLOCK_COLLECT_SPEED,{x:r.x,y:r.y},{easing:cc.easing.quadOut}).call(function(){e.__onCatched(),e._currentBlock.onCatched()}).start()},e.prototype.discardBlock=function(){this._currentBlock=null,this._catchingTween&&(this._catchingTween.stop(),this._catchingTween=null)},e.prototype.afterEliminate=function(){this._currentBlock=null,this._catchingTween&&(this._catchingTween.stop(),this._catchingTween=null)},e.prototype.clean=function(){this._currentBlock&&(c.default.putItem(a.NODE_POOL_NAME.singleBlock,this._currentBlock.node),this._currentBlock=null)},e.prototype.getCurrentBlock=function(){return this._currentBlock},e.prototype.__onCatched=function(){this._catchingTween=null},i([f],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Common/Constant":"Constant","../Libraries/NodePool":"NodePool","./CatcherController":"CatcherController","./GamePlayController":"GamePlayController"}],SizeAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"d5467AxXklO57jFq8v5P7H6","SizeAdapter");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Helper"),c=t("../System/GamingSystem"),l=cc._decorator,s=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){if(a.default.isNormalScreen())switch(c.default.mapInfo.map.reduce(function(t,e){return e.height>t?e.height:t},0)){case 9:this.node.scale=.94;break;case 10:this.node.scale=.9;break;case 11:this.node.scale=.88}},i([s],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../Common/Helper":"Helper","../System/GamingSystem":"GamingSystem"}],SkinSystem:[function(t,e,o){"use strict";cc._RF.push(e,"0e3e6lVVpdOl7j6JQ5XJhpm","SkinSystem");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{l(n.next(t))}catch(e){i(e)}}function c(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}l((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return l([t,e])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){r={error:c}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Common/Constant"),l=t("../Common/ContentList"),s=t("../Common/Helper"),u=t("../Platform/PlatformSystem"),f=t("./ArchiveSystem"),p=function(){function t(){this._initTimes=2,this.skinGroups=null,this.skinLoaded=Object.assign({},c.SKIN_LOADED_DEFAULT),this.skinUsing=null}return Object.defineProperty(t.prototype,"skinPath",{get:function(){return c.SKIN_PATH_PRE+"/"+f.default.localData.skinGroup},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){return n(this,void 0,void 0,function(){var t,e,o=this;return r(this,function(){return this._initTimes-=1,this.skinGroups||(t=cc.resources.getDirWithPath(c.SKIN_PATH_PRE,cc.SpriteFrame),e=t.map(function(t){return t.path.split("/")[1]}),this.skinGroups=a(new Set(e)).sort(),this.skinGroups.includes(f.default.localData.skinGroup)||(f.default.localData.skinGroup=c.SKIN_GROUP_DEFAULT)),[2,new Promise(function(t){cc.resources.loadDir(o.skinPath,cc.SpriteFrame,null,function(e,n){e||0===n.length?0===o._initTimes?(u.default.platform.showToast({title:s.default.getContent(l.CONTENT_LIST.toast.loadingSkinError),icon:"none",duration:3e3}),(new cc.Component).scheduleOnce(u.default.platform.exitGame,3)):o.initialize():(o.skinLoaded.blockSkin[f.default.localData.skinGroup]=n,t(n))})})]})})},t.prototype.getSkinUsing=function(){return this.skinLoaded.blockSkin[f.default.localData.skinGroup]},t.prototype.changSkin=function(t){cc.log("\u66f4\u6362\u76ae\u80a4\uff1a"+t)},t}();o.default=new p,cc._RF.pop()},{"../Common/Constant":"Constant","../Common/ContentList":"ContentList","../Common/Helper":"Helper","../Platform/PlatformSystem":"PlatformSystem","./ArchiveSystem":"ArchiveSystem"}],TimeBoxController:[function(t,e,o){"use strict";cc._RF.push(e,"02d0bapNopJJbXdgsHJKLMG","TimeBoxController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=t("../Common/Helper"),l=t("../Platform/PlatformSystem"),s=t("../System/ArchiveSystem"),u=t("../System/DataCollectSystem"),f=t("../System/SceneManagerSystem"),p=cc._decorator,d=p.ccclass,h=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBox=null,e.nodeTimer=null,e.nodeVideoIcon=null,e.nodeGlow=null,e.nodeGlowRotate=null,e.labelTimer=null,e._availabe=!0,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this},e.prototype.onDestroy=function(){o.I=null},e.prototype.start=function(){this.__getTimeLeft()<0?this.turnToAvailabe():this.turnToUnavailabe()},e.prototype.update=function(t){if(this.nodeGlowRotate.active&&(this.nodeGlowRotate.angle-=20*t,this.nodeGlowRotate.angle<-360&&(this.node.angle%=360)),this.nodeTimer.active){var e=this.__getTimeLeft();e<0?this.turnToAvailabe():this.labelTimer.string=c.default.timeFormat(Math.floor(e/1e3))}},e.prototype.turnToUnavailabe=function(){this._availabe=!1,this.nodeGlow.active=!1,this.nodeVideoIcon.active=!1,this.nodeTimer.active=!0,this._shakeTween&&this._shakeTween.stop(),this.nodeBox.angle=0},e.prototype.turnToAvailabe=function(){this._availabe=!0,this.nodeGlow.active=!0,this.nodeVideoIcon.active=!0,this.nodeTimer.active=!1,this.__shake()},e.prototype.onClick=function(){var t=this;this._availabe&&(l.default.platform.showRewardVideo(function(){t.turnToUnavailabe(),s.default.localData.lastTimeBoxTime=Date.now(),f.default.showTimeBoxLayer(),u.reportUserBehaviorBranchAnalytics(u.LOG_KEY_GAME_PAGE.timeBoxSuccess)}),u.reportUserBehaviorBranchAnalytics(u.LOG_KEY_GAME_PAGE.timeBox))},e.prototype.__getTimeLeft=function(){var t=Date.now();return 1e3*a.TIME_BOX_DURATION-t+s.default.localData.lastTimeBoxTime},e.prototype.__shake=function(){var t=cc.tween().delay(1).to(.12,{angle:10}).to(.24,{angle:-10}).to(.24,{angle:10}).to(.24,{angle:-10}).to(.24,{angle:10}).to(.12,{angle:0});this._shakeTween=cc.tween(this.nodeBox).then(t).repeatForever().start()},i([h(cc.Node)],e.prototype,"nodeBox",void 0),i([h(cc.Node)],e.prototype,"nodeTimer",void 0),i([h(cc.Node)],e.prototype,"nodeVideoIcon",void 0),i([h(cc.Node)],e.prototype,"nodeGlow",void 0),i([h(cc.Node)],e.prototype,"nodeGlowRotate",void 0),i([h(cc.Label)],e.prototype,"labelTimer",void 0),o=i([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Common/Constant":"Constant","../Common/Helper":"Helper","../Platform/PlatformSystem":"PlatformSystem","../System/ArchiveSystem":"ArchiveSystem","../System/DataCollectSystem":"DataCollectSystem","../System/SceneManagerSystem":"SceneManagerSystem"}],TimeBoxLayerController:[function(t,e,o){"use strict";cc._RF.push(e,"bbfb2X9H0ROHYBMzlENb0sZ","TimeBoxLayerController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/AudioConfig"),c=t("../Platform/PlatformSystem"),l=t("../System/AudioSystem"),s=t("../System/DataCollectSystem"),u=t("../System/SceneManagerSystem"),f=t("./BoxRewardItemController"),p=t("./EndLayerController"),d=t("./PropButtonController"),h=cc._decorator,y=h.ccclass,_=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeContent=null,e.nodeCollect=null,e.items=[],e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,this.node.active=!1},e.prototype.onDisable=function(){p.default.I&&p.default.I.node.active&&c.default.platform.showGridAd()},e.prototype.onDestroy=function(){o.I=null},e.prototype.show=function(){var t=this;l.default.play(a.AUDIOS_PATH.get_reward),u.default.dialogOnOpen(this.nodeContent);var e=d.BUTTON_TYPE.concat().sort(function(){return Math.random()<.5?1:-1});this.items.forEach(function(t,o){t.setReward(e[o],1)}),this.nodeCollect.active=!1,this.scheduleOnce(function(){t.nodeCollect.active=!0},3),p.default.I&&p.default.I.node.active&&c.default.platform.hideGridAd()},e.prototype.collect=function(){this.items.forEach(function(t){t.onCollect()}),u.default.dialogOnClose(this.nodeContent),c.default.platform.showToast({title:"\u6210\u529f\u83b7\u5f97\u5956\u52b1",duration:2e3}),s.reportUserBehaviorBranchAnalytics(s.LOG_KEY_REWARD_PAGE.collect)},e.prototype.collectDouble=function(){var t=this;c.default.platform.showRewardVideo(function(){t.items.forEach(function(t){t.onCollect(2)}),u.default.dialogOnClose(t.nodeContent),c.default.platform.showToast({title:"\u6210\u529f\u83b7\u5f97\u5956\u52b1",duration:2e3}),s.reportUserBehaviorBranchAnalytics(s.LOG_KEY_REWARD_PAGE.collectDoubleSuccess)}),s.reportUserBehaviorBranchAnalytics(s.LOG_KEY_REWARD_PAGE.collectDouble)},i([_(cc.Node)],e.prototype,"nodeContent",void 0),i([_(cc.Node)],e.prototype,"nodeCollect",void 0),i([_([f.default])],e.prototype,"items",void 0),o=i([y],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../Common/AudioConfig":"AudioConfig","../Platform/PlatformSystem":"PlatformSystem","../System/AudioSystem":"AudioSystem","../System/DataCollectSystem":"DataCollectSystem","../System/SceneManagerSystem":"SceneManagerSystem","./BoxRewardItemController":"BoxRewardItemController","./EndLayerController":"EndLayerController","./PropButtonController":"PropButtonController"}],ToucherController:[function(t,e,o){"use strict";cc._RF.push(e,"5fcf23l4vJBmJdtya/wYXUE","ToucherController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Common/Constant"),c=cc._decorator,l=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layerMap=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.I=this,this.node.active=!1,this.node.getComponent(cc.Collider).tag=a.TOUCHER_COLLIDER_TAG,this.layerMap.on(cc.Node.EventType.TOUCH_START,this.__onTouchStart,this),this.layerMap.on(cc.Node.EventType.TOUCH_MOVE,this.__onTouchMove,this),this.layerMap.on(cc.Node.EventType.TOUCH_END,this.__onTouchEnd,this)},e.prototype.matchTarget=function(t){this._target=t},e.prototype.releaseTarget=function(){this._target=null},e.prototype.__onTouchStart=function(t){this.node.active=!0,this.__onTouchMove(t)},e.prototype.__onTouchMove=function(t){this.node.setPosition(this.layerMap.convertToNodeSpaceAR(t.getLocation()))},e.prototype.__onTouchEnd=function(){this._target&&(this._target.collect(),this._target=null),this.node.active=!1},i([s(cc.Node)],e.prototype,"layerMap",void 0),o=i([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Common/Constant":"Constant"}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"5028aJURfNMnpoRCXZm7+TB","UIManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeUI=[],e}return r(e,t),e.prototype.onLoad=function(){this.nodeUI.forEach(function(t){t.active=!0})},i([l([cc.Node])],e.prototype,"nodeUI",void 0),i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ZIndexController:[function(t,e,o){"use strict";cc._RF.push(e,"7be8dDWVEdI/Z5BatfaYYSe","ZIndexController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zIndex=0,e}return r(e,t),e.prototype.onLoad=function(){this.node.zIndex=this.zIndex},i([l(cc.Integer)],e.prototype,"zIndex",void 0),i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],wxConfig:[function(t,e,o){"use strict";cc._RF.push(e,"19d01HsvttL7rrT1fCCuNNw","wxConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.WX_CONFIG=void 0,o.WX_CONFIG={AD_ID:{banner:"adunit-a0fc9fa65a444676",video:"adunit-1c33fc3f67356508",interstitial:"adunit-901f8025c608f3e6",grid:"adunit-004d566406f94f06",custom:"adunit-b6f287054c384104"}},cc._RF.pop()},{}]},{},["Archive","AudioConfig","Constant","ContentList","Decorators","Helper","ListController","ProjectConfig","AreaMove","BoxRewardItemController","ButtonAudio","ButtonScaleEffect","CatcherController","DailyBoxController","DailyLayerController","EndLayerController","GamePlayController","LackOfLifeController","LayerGuideController","LevelButtonController","LevelLayerController","LifeShowController","Navigation","PauseLayerController","PositionAdapter","ProgressController","ProgressStarController","PropAreaController","PropButtonController","SingleBlockController","SingleCatcherController","SizeAdapter","TimeBoxController","TimeBoxLayerController","ToucherController","UIManager","ZIndexController","EventEmitter","NodePool","PlatformDefault","PlatformSystem","PlatformWX","wxConfig","GameSceneController","LoadingSceneController","MainSceneController","ArchiveSystem","AudioSystem","DataCollectSystem","GamingSystem","GlobalSystem","LifeSystem","SceneManagerSystem","SkinSystem"]);